[
  {
    "objectID": "outrosmodelos.html",
    "href": "outrosmodelos.html",
    "title": "15¬† Modelos Avan√ßados",
    "section": "",
    "text": "15.1 Modelos com Vari√°veis Dependentes Qualitativas",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>15</span>¬† <span class='chapter-title'>Modelos Avan√ßados</span>"
    ]
  },
  {
    "objectID": "outrosmodelos.html#modelos-com-vari√°veis-dependentes-qualitativas",
    "href": "outrosmodelos.html#modelos-com-vari√°veis-dependentes-qualitativas",
    "title": "15¬† Modelos Avan√ßados",
    "section": "",
    "text": "15.1.1 Vari√°veis Dependentes Bin√°rias\nExemplos de resultados bin√°rios:\n\nUm consumidor compra ou n√£o compra um produto.\nUm juiz acata ou n√£o um determinado pedido.\nUm ind√≠viduo decide ou n√£o se vai procurar emprego.\nUm homic√≠dio feminino √© classificado como feminic√≠dio ou n√£o.\n\nVari√°vel dependente bin√°ria:\nA vari√°vel de resultado ser√°, \\(y = 1\\), se o evento de interesse ocorre, caso o contrario \\(y=0\\). Os modelos de Vari√°veis Dependentes Limitadas s√£o bastante difundidos nas an√°lises emp√≠ricas nas ci√™ncias sociais.\n\n\n15.1.2 O Modelo de Probabilidade Linear\nO modelo ser√° especificado como:\n\\[y= \\beta_0 + \\beta_1 x_1 + ... +\\beta_kx_k +u\\]\nO modelo acima estima a probabilidade do evento de interesse ocorrer dado as vari√°veis explicativas. Em nota√ß√£o matem√°tica pode ser representado da seguinte maneira:\n\\[p=Pr(Y=1)=F(\\mathbf{x}'\\boldsymbol{\\beta})\\]\nNo modelo de probabilidade linear:\n\\[p=Pr(Y=1)=F(\\mathbf{x}'\\boldsymbol{\\beta})= \\beta_0 + \\beta_1 x_1 + ... +\\beta_kx_k \\]\nOs coeficientes \\(\\beta_j\\) estimados indicam o impacto na probabilidade de \\(Y=1\\). No modelo MPL a estima√ß√£o dos coeficientes s√£o feitas de maneira an√°loga ao modelo de RLM.\nVejamos um exemplo:\n\nEstudamos a probabilidade de uma mulher estar no mercado de trabalho \\(P(inlf=1)\\)\n\n\\[P(\\text{inlf}=1)= \\beta_0 + \\beta_1 \\text{nwifeinc} + \\beta_2 \\text{edu} +\\beta_3 \\text{exp}+\\] \\[\\beta_4 \\text{exp}^2+\\beta_5 \\text{age}+\\beta_6 \\text{kidslt6}+\\beta_7 \\text{kidsge6} +\\epsilon\\]\n\nDependendo da renda familiar adicional (nwifeinc), da educa√ß√£o (educ), da experi√™ncia (exper e exper^2), da sua idade (age), do n√∫mero de crian√ßas menores de 6 anos (kidslt6) e do n√∫mero de crian√ßas maiores do que 6 anos (kidsge6).\n\nO Script abaixo estima um modelo de probabilidade linear usando o conjunto de dados mroz.dta, da mesma forma que fizemos anteriormente (usando o lm). Vejamos:\n\nif(!require(wooldridge)){\n    install.packages(\"wooldridge\")\n    library(wooldridge)}\n\nlibrary(car)\nlibrary(lmtest)\n\ndata(mroz, package=\"wooldridge\")\n\n# Estimate linear probability model\nlinprob &lt;- lm(inlf~ nwifeinc + educ + exper + I(exper^2) + \n                  age+ kidslt6 + kidsge6 ,data=mroz)\n\nsummary(linprob)\n\n\nCall:\nlm(formula = inlf ~ nwifeinc + educ + exper + I(exper^2) + age + \n    kidslt6 + kidsge6, data = mroz)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.93432 -0.37526  0.08833  0.34404  0.99417 \n\nCoefficients:\n              Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  0.5855192  0.1541780   3.798 0.000158 ***\nnwifeinc    -0.0034052  0.0014485  -2.351 0.018991 *  \neduc         0.0379953  0.0073760   5.151 3.32e-07 ***\nexper        0.0394924  0.0056727   6.962 7.38e-12 ***\nI(exper^2)  -0.0005963  0.0001848  -3.227 0.001306 ** \nage         -0.0160908  0.0024847  -6.476 1.71e-10 ***\nkidslt6     -0.2618105  0.0335058  -7.814 1.89e-14 ***\nkidsge6      0.0130122  0.0131960   0.986 0.324415    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.4271 on 745 degrees of freedom\nMultiple R-squared:  0.2642,    Adjusted R-squared:  0.2573 \nF-statistic: 38.22 on 7 and 745 DF,  p-value: &lt; 2.2e-16\n\n\nInterpreta√ß√£o\nO coeficiente estimado da educa√ß√£o (educ) pode ser interpretado como: um ano adicional de escolaridade aumenta a probabilidade de uma mulher estar na for√ßa de trabalho, tudo o mais constante, em 0,038, em m√©dia.\nO Problema\nUm problema com o MPL √© que \\(P(y = 1|x)\\) √© especificado como uma fun√ß√£o linear dos regressores. Por constru√ß√£o, existem combina√ß√µes (mais ou menos realistas) de valores de regressores que produzem \\(\\hat{y} &lt; 0\\) ou \\(\\hat{y}&gt;0\\). Como s√£o probabilidades, isso realmente n√£o faz sentido.\nVeja que os valores previstos para duas mulheres:\n\nMULHER 1: renda familiar adicional de 50 mil ano, 7 anos de escolaridade, n√£o tem experi√™ncia, com 25 anos e possui 2 filhos menores de 6 anos. A probabilidade de estar na for√ßa de trabalho estimada √© -24%‚Ä¶.n√£o faz sentido.\n\n\n# Podemos calcular assim a probabilidade \n\n0.5855192 - 0.0034052*50  + 0.0379953*7  + 0.0394924*0  -0.0005963*0  - 0.0160908*25  -0.2618105*2  + 0.0130122*0\n\n[1] -0.2446647\n\n# Ou assim: \n\nxpred &lt;- list(nwifeinc=c(50),educ=c(7),exper=c(0), \"I(exper^2)\"=c(0),\n age=c(25),kidslt6=c(2),kidsge6=c(0))\n\npredict(linprob,xpred)\n\n         1 \n-0.2446632 \n\n\n\nMULHER 2: N√£o tem renda adicional, 17 anos de escolaridade, 30 anos de experi√™ncia, com 52 anos e n√£o possui filhos. A probabilidade de estar na for√ßa de trabalho estimada √© 104%‚Ä¶.n√£o faz sentido. Veja os c√°lculos abaixo:\n\n\n# Podemos calcular assim a probabilidade \n\n0.5855192 - 0.0034052*0  + 0.0379953*17  + 0.0394924*30  -0.0005963*900  - 0.0160908*52  -0.2618105*0  + 0.0130122*0\n\n[1] 1.04282\n\n# Ou assim\n\nxpred1 &lt;- list(nwifeinc=c(0),educ=c(17), exper=c(30), \"I(exper^2)\"=c(30),\n age=c(52),kidslt6=c(0),kidsge6=c(0))\n\npredict(linprob,xpred1)\n\n       1 \n1.042808 \n\n\n\n\n15.1.3 Modelo de Regress√£o Logistica: Logit\nNo modelo Logit a fun√ß√£o linear √© substituida pela fun√ß√£o de distribui√ß√£o acumulada logistica:\n\\[ Pr(Y_i=1)=F(\\mathbf{x}'\\boldsymbol{\\beta})=\\text{Logit}^{-1}(\\mathbf{x}'\\boldsymbol{\\beta})\\]\nOu\n\\[\\text{Logit}^{-1}(\\mathbf{x}'\\boldsymbol{\\beta}) = \\frac{\\exp(\\mathbf{x}'\\boldsymbol{\\beta})}{1 + \\exp(\\mathbf{x}'\\boldsymbol{\\beta})}\n\\ \\]\nAssumindo que:\n\\[log \\left( \\frac{P_t}{1-P_t}\\right)=\\mathbf{X}`\\beta\\]\nResolvendo para \\(P_t\\), tem-se que:\n\\[ Pr(Y_i=1)=F(\\mathbf{x}'\\boldsymbol{\\beta}) = \\frac{\\exp(\\mathbf{x}'\\boldsymbol{\\beta})}{1 + \\exp(\\mathbf{x}'\\boldsymbol{\\beta})}\\]\nPortanto, o resultado do modelo log√≠stico fornece o efeito da varia√ß√£o de uma unidade em \\(X\\) no log da raz√£o de chances entre as probabilidades \\(Y=1\\) e \\(Y=0\\). Infelizmente a interpreta√ß√£o direta n√£o nos traz uma leitura significativa do que est√° acontecendo nessa popula√ß√£o.\nDuas maneiras para analisarmos o resultados s√£o:\nRaz√£o de Chance\nA raz√£o de chances ou risco relativo, \\(p/(1-p)\\), mede a probabilidade de \\(y=1\\) em rela√ß√£o √† probabilidade de \\(y=0\\).\nUma raz√£o de chances de 2 significa que o resultado \\(y=1\\) (de ganhar uma aposta, por exemplo) √© duas vezes mais prov√°vel que o resultado de \\(y=0\\) (de perder uma aposta).\nA raz√£o de chances √© dada por:\n\\[\\frac{p}{1 - p} = \\exp(\\mathbf{x}' \\boldsymbol{\\beta})\\]\nEfeito Marginal:\nOutra maneira √© encontrar o efeito marginal do estimador, que ir√° fornecer a seguinte interpreta√ß√£o, um aumento em \\(X\\) aumenta(diminui) em \\(\\beta\\) pontos percentuais a probabilidade de ser \\(Y=1\\). Vejamos os exemplos abaixo para ficar um pouco mais claro.\n\n15.1.3.1 Exemplo e interpreta√ß√£o\nPrimeiramente vamos estimar o modelo logit. Usamos a mesma base que indica se a mulher est√° na for√ßa de trabalho \\((Y=1)\\) ou se a mulher est√° fora da for√ßa de trabalho \\((Y=0)\\), vari√°vel inlf.\n\ndata(mroz, package=\"wooldridge\")\n\n#Modelo logit, familia da binomial = logit\nlogit &lt;- glm(inlf~ nwifeinc + educ + exper + I(exper^2) + \n                  age+ kidslt6 + kidsge6 , family=binomial(link=\"logit\"), data=mroz)\nsummary(logit)\n\n\nCall:\nglm(formula = inlf ~ nwifeinc + educ + exper + I(exper^2) + age + \n    kidslt6 + kidsge6, family = binomial(link = \"logit\"), data = mroz)\n\nCoefficients:\n             Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)  0.425452   0.860365   0.495  0.62095    \nnwifeinc    -0.021345   0.008421  -2.535  0.01126 *  \neduc         0.221170   0.043439   5.091 3.55e-07 ***\nexper        0.205870   0.032057   6.422 1.34e-10 ***\nI(exper^2)  -0.003154   0.001016  -3.104  0.00191 ** \nage         -0.088024   0.014573  -6.040 1.54e-09 ***\nkidslt6     -1.443354   0.203583  -7.090 1.34e-12 ***\nkidsge6      0.060112   0.074789   0.804  0.42154    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 1029.75  on 752  degrees of freedom\nResidual deviance:  803.53  on 745  degrees of freedom\nAIC: 819.53\n\nNumber of Fisher Scoring iterations: 4\n\n\nA coluna Estimate mostra os coeficientes na forma de log da raz√£o de chance. Quando a educa√ß√£o da mulher aumenta em uma unidade, a mudan√ßa esperada no log da raz√£o de chance √© de 0,22. Pode-se interpretar se os efeitos s√£o positivos ou negativos, mas sua an√°lise n√£o √© significativa. Aqui sabe-se que a educa√ß√£o tem efeito positivo na participa√ß√£o da mulher no mercado de trabalho, mas n√£o sabemos de quanto!\nRaz√£o de Chance\nVamos agora calcular a raz√£o de chance. Utilizaremos o pacote mfx\n\n# Usando o pacote mfx\nif(!require(mfx)){\n    install.packages(\"mfx\")\n    library(mfx)}\n\n\nlogitor(inlf~ nwifeinc + educ + exper + I(exper^2) + \n                  age+ kidslt6 + kidsge6, data=mroz)\n\nCall:\nlogitor(formula = inlf ~ nwifeinc + educ + exper + I(exper^2) + \n    age + kidslt6 + kidsge6, data = mroz)\n\nOdds Ratio:\n           OddsRatio Std. Err.       z     P&gt;|z|    \nnwifeinc   0.9788810 0.0082435 -2.5346  0.011256 *  \neduc       1.2475360 0.0541921  5.0915 3.553e-07 ***\nexper      1.2285929 0.0393847  6.4220 1.345e-10 ***\nI(exper^2) 0.9968509 0.0010129 -3.1041  0.001909 ** \nage        0.9157386 0.0133450 -6.0403 1.538e-09 ***\nkidslt6    0.2361344 0.0480729 -7.0898 1.343e-12 ***\nkidsge6    1.0619557 0.0794229  0.8038  0.421539    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n# OU\n\nlogit.or=exp(coef(logit))\nlogit.or\n\n(Intercept)    nwifeinc        educ       exper  I(exper^2)         age \n  1.5302825   0.9788810   1.2475360   1.2285929   0.9968509   0.9157386 \n    kidslt6     kidsge6 \n  0.2361344   1.0619557 \n\n\nInterpreta√ß√£o\nQuando a educa√ß√£o da mulher aumenta em uma unidade, as chances de y = 1 (dela participar do mercado de trabalho) aumentam em 24% ((1,247-1)*100). Ou a probabilidade de participar do mercado de trabalho (y = 1) √© 1,24 vezes maior quando a educa√ß√£o aumenta em uma unidade (mantendo todas as outras vari√°veis constante).\nEfeito Marginal\nUtilizando o mesmo pacote anterior mfx, tem-se:\n\nlogitmfx(inlf~ nwifeinc + educ + exper + I(exper^2) + \n                  age+ kidslt6 + kidsge6, data=mroz)\n\nCall:\nlogitmfx(formula = inlf ~ nwifeinc + educ + exper + I(exper^2) + \n    age + kidslt6 + kidsge6, data = mroz)\n\nMarginal Effects:\n                 dF/dx   Std. Err.       z     P&gt;|z|    \nnwifeinc   -0.00519005  0.00204820 -2.5340  0.011278 *  \neduc        0.05377731  0.01056074  5.0922 3.539e-07 ***\nexper       0.05005693  0.00782462  6.3974 1.581e-10 ***\nI(exper^2) -0.00076692  0.00024768 -3.0965  0.001959 ** \nage        -0.02140302  0.00353973 -6.0465 1.480e-09 ***\nkidslt6    -0.35094982  0.04963897 -7.0700 1.549e-12 ***\nkidsge6     0.01461621  0.01818832  0.8036  0.421625    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nInterpreta√ß√£o\nOs efeitos marginais mostram a mudan√ßa na probabilidade quando \\(X\\) aumenta em uma unidade. No nosso caso o aumento de 1 ano na educa√ß√£o da mulher aumenta em 0.053 pontos percentuais a probabilidade de a mulher participar do mercado de trabalho, \\(Pr(Y=1)\\). A probabilidade aqui √© um valor entre 0 e 1.\nCalculando a Probabilidade\nVamos calcular a probabilidade de uma mulher participar do mercado de trabalho. Predizendo a probabilidade:\n\nlogit &lt;- glm(inlf~ nwifeinc + educ + exper + expersq + \n                  age+ kidslt6 + kidsge6, family=binomial(link=\"logit\"), data=mroz)\n\n# temos que fazer o inverso do modelo logit\n\ninvlogit=function (x) {1/(1+exp(-x))}\ninvlogit(coef(logit)[1]+\n           coef(logit)[2]*mean(mroz$nwifeinc)+\n           coef(logit)[3]*mean(mroz$educ)+\n           coef(logit)[4]*mean(mroz$exper)+\n           coef(logit)[5]*mean(mroz$expersq)+\n           coef(logit)[6]*mean(mroz$age)+\n           coef(logit)[7]*mean(mroz$kidslt6)+\n           coef(logit)[8]*mean(mroz$kidsge6))\n\n(Intercept) \n   0.582772 \n\n\nEm m√©dia 58% das mulheres participam do mercado de trabalho. Vejamos agora para o caso das duas mulheres que haviamos feito anteriormente:\n\nMULHER 1: renda familiar adicional de 50 mil ano, 7 anos de escolaridade, n√£o tem experi√™ncia, com 25 anos e possui 2 filhos menores de 6 anos.\n\n\n# Mulher 1\ninvlogit=function (x) {1/(1+exp(-x))}\ninvlogit(coef(logit)[1]+\n           coef(logit)[2]*50+\n           coef(logit)[3]*7+\n           coef(logit)[4]*0+\n           coef(logit)[5]*0+\n           coef(logit)[6]*25+\n           coef(logit)[7]*2+\n           coef(logit)[8]*0)\n\n(Intercept) \n 0.01505417 \n\n\nA chance da mulher descrita acima participar do mercado de trabalho √© de 1,5%.\n\nMULHER 2: N√£o tem renda adicional, 17 anos de escolaridade, 30 anos de experi√™ncia, com 52 anos e n√£o possui filhos.\n\n\n# Mulher 1\ninvlogit=function (x) {1/(1+exp(-x))}\ninvlogit(coef(logit)[1]+\n           coef(logit)[2]*0+\n           coef(logit)[3]*17+\n           coef(logit)[4]*30+\n           coef(logit)[5]*900+\n           coef(logit)[6]*52+\n           coef(logit)[7]*0+\n           coef(logit)[8]*0)\n\n(Intercept) \n  0.9500491 \n\n\nA chance da Mulher 2 participar do mercado de trabalho √© de 95% .\nGraficamente\nVejamos agora graficamente o efeito dos anos de estudo sobre a probabilidade de a mulher entrar no mercado de trabalho. Vamos manter as vari√°veis na m√©dia e vamos simular mulheres de 5 a 17 anos de estudo e estimar a probabilidde de ela participar da for√ßa de trabalho.\n\nif(!require(ggplot2)){\n    install.packages(\"ggplot2\")\n    library(ggplot2)}\n\nlogit &lt;- glm(inlf~ nwifeinc + educ + exper + expersq + \n                  age+ kidslt6 + kidsge6, family=binomial(link=\"logit\"), data=mroz)\n\namp_educ&lt;-range(mroz$edu) \n\nedu_sequence &lt;- seq(from = 5, to = 17, by = .02) # 177 points along x axis\n\n\nconstanteX &lt;- with(mroz, data.frame(nwifeinc= mean(nwifeinc),\n                                  exper= mean(exper),\n                                  expersq= mean(expersq),\n                                  age= mean(age),\n                                  kidslt6= mean( kidslt6),\n                                  kidsge6= mean(kidsge6),\n                                  educ = edu_sequence \n                                  ))\n\nconstanteX$predicao &lt;- predict(object = logit, \n                                newdata = constanteX, \n                                type = \"response\")\n\np&lt;- ggplot(constanteX, aes(x = educ, y = predicao)) +\n  geom_smooth()\n#&gt; `geom_smooth()` using method = 'loess' and formula 'y ~ x'\n\np + labs(title = \"Probabilidade de Participa√ß√£o no Mercado de Trabalho\", x = \"Anos de Estudo\", y = \"Prob de Participa√ß√£o\")\n\n\n\n\n\n\n\n\n\n\n15.1.3.2 Probit\nUma alternativa ao modelo logit seria o uso do modelo probit. Que ao inv√©s da fun√ß√£o log√≠stica utiliza-se a fun√ß√£o distribui√ß√£o normal padr√£o. Vejamos os resultados:\n\ndata(mroz, package=\"wooldridge\")\n\n#Modelo logit, familia da binomial = logit\nlogit &lt;- glm(inlf~ nwifeinc + educ + exper + I(exper^2) + \n                  age+ kidslt6 + kidsge6 , family=binomial(link=\"logit\"), data=mroz)\n\nprobit &lt;- glm(inlf~ nwifeinc + educ + exper + I(exper^2) + \n                  age+ kidslt6 + kidsge6 , family=binomial(link=\"probit\"), data=mroz)\n\n\nlibrary(stargazer)\n\nstargazer(logit,probit, type=\"text\",keep.stat=\"n\")\n\n\n=========================================\n                 Dependent variable:     \n             ----------------------------\n                         inlf            \n                logistic       probit    \n                  (1)            (2)     \n-----------------------------------------\nnwifeinc        -0.021**      -0.012**   \n                (0.008)        (0.005)   \n                                         \neduc            0.221***      0.131***   \n                (0.043)        (0.025)   \n                                         \nexper           0.206***      0.123***   \n                (0.032)        (0.019)   \n                                         \nI(exper2)      -0.003***      -0.002***  \n                (0.001)        (0.001)   \n                                         \nage            -0.088***      -0.053***  \n                (0.015)        (0.008)   \n                                         \nkidslt6        -1.443***      -0.868***  \n                (0.204)        (0.118)   \n                                         \nkidsge6          0.060          0.036    \n                (0.075)        (0.044)   \n                                         \nConstant         0.425          0.270    \n                (0.860)        (0.508)   \n                                         \n-----------------------------------------\nObservations      753            753     \n=========================================\nNote:         *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01\n\n\nObserve que sinal e signific√¢ncia est√£o em acordo entre os dois modelos. Vejamos agora os efeitos marginais para podermos comparar.\n\nlogitmfx(inlf~ nwifeinc + educ + exper + I(exper^2) + \n                  age+ kidslt6 + kidsge6, data=mroz)\n\nCall:\nlogitmfx(formula = inlf ~ nwifeinc + educ + exper + I(exper^2) + \n    age + kidslt6 + kidsge6, data = mroz)\n\nMarginal Effects:\n                 dF/dx   Std. Err.       z     P&gt;|z|    \nnwifeinc   -0.00519005  0.00204820 -2.5340  0.011278 *  \neduc        0.05377731  0.01056074  5.0922 3.539e-07 ***\nexper       0.05005693  0.00782462  6.3974 1.581e-10 ***\nI(exper^2) -0.00076692  0.00024768 -3.0965  0.001959 ** \nage        -0.02140302  0.00353973 -6.0465 1.480e-09 ***\nkidslt6    -0.35094982  0.04963897 -7.0700 1.549e-12 ***\nkidsge6     0.01461621  0.01818832  0.8036  0.421625    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nprobitmfx(inlf~ nwifeinc + educ + exper + I(exper^2) + \n                  age+ kidslt6 + kidsge6, data=mroz)\n\nCall:\nprobitmfx(formula = inlf ~ nwifeinc + educ + exper + I(exper^2) + \n    age + kidslt6 + kidsge6, data = mroz)\n\nMarginal Effects:\n                 dF/dx   Std. Err.       z     P&gt;|z|    \nnwifeinc   -0.00469619  0.00192965 -2.4337  0.014945 *  \neduc        0.05112843  0.00992310  5.1525 2.571e-07 ***\nexper       0.04817690  0.00734505  6.5591 5.413e-11 ***\nI(exper^2) -0.00073705  0.00023464 -3.1412  0.001683 ** \nage        -0.02064309  0.00330485 -6.2463 4.203e-10 ***\nkidslt6    -0.33914996  0.04634765 -7.3175 2.526e-13 ***\nkidsge6     0.01406306  0.01719895  0.8177  0.413546    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nInterpretando\nO aumento de 1 ano na educa√ß√£o da mulher aumenta em 0.053 pontos percentuais a probabilidade de a mulher participar do mercado de trabalho, \\(Pr(Y=1)\\), no modelo logit e 0.051 no modelo probit. As diferen√ßas s√£o pequenas entre os dois modelos.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>15</span>¬† <span class='chapter-title'>Modelos Avan√ßados</span>"
    ]
  },
  {
    "objectID": "outrosmodelos.html#dados-de-contagem-modelo-de-regress√£o-de-poisson",
    "href": "outrosmodelos.html#dados-de-contagem-modelo-de-regress√£o-de-poisson",
    "title": "15¬† Modelos Avan√ßados",
    "section": "15.2 Dados de Contagem: Modelo de Regress√£o de Poisson",
    "text": "15.2 Dados de Contagem: Modelo de Regress√£o de Poisson\nEm vez de apenas dados bin√°rios codificados em \\(0/1\\), os dados de contagem podem assumir qualquer n√∫mero inteiro n√£o negativo $0,1,2,. . $.\nSe considerarem n√∫meros muito grandes (como o n√∫mero de alunos numa escola, n√∫mero de dias de dura√ß√£o de um processo), podem ser aproximados por vari√°veis cont√≠nuas em modelos lineares e estimados utilizando MQO. Se os n√∫meros forem relativamente pequenos (como o n√∫mero de filhos de uma m√£e), esta aproxima√ß√£o pode n√£o funcionar bem. Por exemplo, os valores previstos podem tornar-se negativos.\nO modelo de regress√£o de Poisson √© o modelo mais b√°sico e conveniente projetado explicitamente para dados de contagem. A probabilidade de y assumir qualquer valor \\(h \\in \\{0,1,2,..\\}\\) e o modelo pode ser escrito da seguinte maneira:\n\\[P(y = h \\mid x) = \\frac{e^{-e^{\\mathbf{x} \\boldsymbol{\\beta}}} (e^{\\mathbf{x} \\boldsymbol{\\beta}})^h}{h!}\\]\nOs par√¢metros do modelo de Poisson s√£o muito mais f√°ceis de interpretar do que os de um modelo probit ou logit. Neste modelo, a m√©dia condicional de y √©\n\\[E(y \\mid x) = e^{\\mathbf{x} \\boldsymbol{\\beta}}\\]\nent√£o cada par√¢metro de inclina√ß√£o \\(\\beta_j\\) tem a interpreta√ß√£o de uma semielasticidade:\n\\[\\frac{\\partial E(y \\mid x)}{\\partial x_j} = \\beta_j \\cdot e^{\\mathbf{x} \\boldsymbol{\\beta}} = \\beta_j \\cdot E(y \\mid x)\\]\nLogo,\n\\[\\beta_j = \\frac{1}{E(y \\mid x)} \\cdot \\frac{\\partial E(y \\mid x)}{\\partial x_j}\\]\n\\[\\beta_j \\Delta{X}= \\frac{\\Delta E(y \\mid x)}{E(y \\mid x)}=E(y \\mid x)\\%\\] Interpreta√ß√£o\nSe \\(x_j\\) aumentar em uma unidade (tudo mais constante), \\(E(y|x)\\) aumentar√° aproximadamente em \\(100 \\cdot \\beta_j\\) por cento (o valor exato √© novamente \\(100 \\cdot (e^{\\beta_j} - 1)\\)).\n\n15.2.1 Exemplo:\nEstimar modelos de regress√£o de Poisson em R √© simples. Eles tamb√©m pertencem √† classe dos modelos lineares generalizados (GLM) e podem ser estimados usando glm. A op√ß√£o para especificar um modelo de Poisson √© family=poisson.\nVejamos um exemplo que analisa o n√∫mero de pris√µes masculinas em 1986. Estamos estudando o n√∫mero de vezes que um homem foi preso no ano de 1986 - narr86. As vari√°veis independentes s√£o:\n\npcnv: propor√ß√£o de condena√ß√µes anteriores\navgsen: comprimento m√©dio da senten√ßa.\ntottime: tempo de pris√£o desde os 18 (m√™s)\nptime86: mos. na pris√£o em 1986\nqemp86: trimestres empregados, 1986\ninc86: renda legal, 1986, US$ 100\nblack: =1 se preto\nhispn: =1 se for hisp√¢nico\nborn60: =1 se nasceu em 1960\n\nPara ajudar a compreender a diferen√ßa entre a interpreta√ß√£o do modelo de regress√£o de Poisson e o modelo linerar, vamos estimar os dois abaixo:\n\ndata(crime1, package=\"wooldridge\")\n\n#Estimando o modelo de Poisson\nPoisson.res &lt;- glm(narr86~pcnv+avgsen+tottime+ptime86+qemp86+inc86+\nblack+hispan+born60, data=crime1, family=poisson)\n\n#estimando o modelo OLS\n\nlm.res &lt;- lm(narr86~pcnv+avgsen+tottime+ptime86+qemp86+inc86+\nblack+hispan+born60, data=crime1)\n\n\nlibrary(stargazer)\n\nstargazer(Poisson.res,lm.res, type=\"text\",keep.stat=\"n\")\n\n\n=========================================\n                 Dependent variable:     \n             ----------------------------\n                        narr86           \n                Poisson          OLS     \n                  (1)            (2)     \n-----------------------------------------\npcnv           -0.402***      -0.132***  \n                (0.085)        (0.040)   \n                                         \navgsen           -0.024        -0.011    \n                (0.020)        (0.012)   \n                                         \ntottime          0.024*         0.012    \n                (0.015)        (0.009)   \n                                         \nptime86        -0.099***      -0.041***  \n                (0.021)        (0.009)   \n                                         \nqemp86           -0.038       -0.051***  \n                (0.029)        (0.014)   \n                                         \ninc86          -0.008***      -0.001***  \n                (0.001)       (0.0003)   \n                                         \nblack           0.661***      0.327***   \n                (0.074)        (0.045)   \n                                         \nhispan          0.500***      0.194***   \n                (0.074)        (0.040)   \n                                         \nborn60           -0.051        -0.022    \n                (0.064)        (0.033)   \n                                         \nConstant       -0.600***      0.577***   \n                (0.067)        (0.038)   \n                                         \n-----------------------------------------\nObservations     2,725          2,725    \n=========================================\nNote:         *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01\n\n\nInterpretando\n{No modelo de OLS}{.underline} um aumento de 0.10 na propor√ß√£o de condena√ß√£o reduz o n√∫mero de pris√µes em 0.13 unidades.\n{No modelo de Poisson}{.underline} um aumento de 0.10 na propor√ß√£o de condena√ß√£o reduz em \\(0,402 \\cdot 0,1 \\cdot 100=4,02\\%\\). Considerando a cor da pele, aquelas que declaram ter pele preta possuem 66% mais chance de serem presas.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>15</span>¬† <span class='chapter-title'>Modelos Avan√ßados</span>"
    ]
  },
  {
    "objectID": "outrosmodelos.html#modelo-com-dados-em-painel-modelos-de-efeitos-fixos",
    "href": "outrosmodelos.html#modelo-com-dados-em-painel-modelos-de-efeitos-fixos",
    "title": "15¬† Modelos Avan√ßados",
    "section": "15.3 Modelo com Dados em Painel: Modelos de Efeitos Fixos",
    "text": "15.3 Modelo com Dados em Painel: Modelos de Efeitos Fixos\nDados em painel s√£o extremamente importantes na an√°lise econom√©trica porque permitem o estudo de vari√°veis ao longo do tempo e entre diferentes indiv√≠duos ou entidades, como empresas, pa√≠ses ou varas. Esse tipo de dados oferece mais informa√ß√µes, variabilidade e efici√™ncia do que s√©ries temporais ou dados cross-section isoladamente, permitindo uma melhor compreens√£o das din√¢micas subjacentes e das rela√ß√µes causais.\nO estimador de efeitos fixos √© uma t√©cnica crucial para lidar com o vi√©s de heterogeneidade, que surge quando caracter√≠sticas n√£o observ√°veis e invariantes no tempo influenciam as vari√°veis de interesse. Ao considerar apenas as varia√ß√µes dentro de cada indiv√≠duo ao longo do tempo, o estimador de efeitos fixos controla essas caracter√≠sticas n√£o observ√°veis, eliminando seu impacto sobre os estimadores dos coeficientes. Dessa forma, permite uma estimativa n√£o enviesada dos efeitos das vari√°veis explicativas, proporcionando resultados mais robustos e confi√°veis.\nConsidere o modelo mais simples de T per√≠odos.\n\\[y_{it} = \\beta_0 + \\beta_1 x_{it1} + \\beta_2 x_{it2} + \\cdots + \\beta_k x_{itk} + a_i + u_{it}\\]\nNote que temos agora 3 subscritos, \\(i\\),\\(t\\) e \\(k\\). O subscrito \\(i\\) √© a unidade de corte transversal (o munic√≠pio, a vara, o processo), \\(t\\) representa o per√≠odo dessa vari√°vel, e \\(k\\) a vari√°vel que estamos obversando. O termo \\(a_i\\) √© denominado efeito fixo, pois √© invariante no tempo. Ele capta uma s√©rie de fatores individuais n√£o observados que impactam \\(Y\\) mas que s√£o invariantes no tempo.\nSe aplicarmos o m√©todo de MQO na equa√ß√£o acima, teremos estimadores viesados e inconsistentes. Logo, precisamos remover esse efeito fixo. Uma forma de resolver isso √© subtrair a m√©dia de cada vari√°vel para cada individuo ao longo do tempo. √â ent√£o aplicar o MQO. Como \\(a_i\\) √© invariante sua m√©dia tamb√©m √© \\(a_i\\), e ao realizarmos a subtra√ß√£o removeremos o efeito fixo.\n\\[\\bar{y_i} = \\beta_0 + \\beta_1 \\bar{x}_{i1} + \\cdots + \\beta_k \\bar{x}_{ik} + a_i + \\bar{u}_i\\]\nO modelo transfromado √© dado por:\n\\[\\ddot{y}_{it} = y_{it} - \\bar{y}_i = \\beta_1 \\ddot{x}_{it1} + \\cdots + \\beta_k \\ddot{x}_{itk} + \\ddot{u}_{it}\\] ### Exemplo:\nVamos utilizar para exemplificar um modelo simples de dois per√≠odos. Estamos interessados em analisar o efeito do desemprego (unem) sobre a criminalidade (crmrte) em 46 cidades para os anos de 1982 e 1987. Usaremos o pacote plm\n\nif(!require(plm)){\n    install.packages(\"plm\")\n    library(plm)}\n\nLoading required package: plm\n\nlibrary(plm)\ndata(crime2, package=\"wooldridge\")\ncrime2.p &lt;- pdata.frame(crime2, index=46 )\n\n##Estimando o modelo\nPainel&lt;- plm(crmrte~unem +  d87, data=crime2.p, model=\"within\")\n\nsummary(Painel)\n\nOneway (individual) effect Within Model\n\nCall:\nplm(formula = crmrte ~ unem + d87, data = crime2.p, model = \"within\")\n\nBalanced Panel: n = 46, T = 2, N = 92\n\nResiduals:\n   Min. 1st Qu.  Median 3rd Qu.    Max. \n-26.458  -6.384   0.000   6.384  26.458 \n\nCoefficients:\n     Estimate Std. Error t-value Pr(&gt;|t|)   \nunem  2.21800    0.87787  2.5266  0.01519 * \nd87  15.40220    4.70212  3.2756  0.00206 **\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nTotal Sum of Squares:    11002\nResidual Sum of Squares: 8844.8\nR-Squared:      0.19606\nAdj. R-Squared: -0.66269\nF-statistic: 5.36528 on 2 and 44 DF, p-value: 0.0082206\n\n\nObserva-se nesse modelo que o aumento de 1 na taxa de desemprego aumenta em 2.2 pontos a taxa de criminalidade. Observa-se que as caracter√≠sticas dos mun√≠cipios que s√£o fixas no tempo est√£o sendo controladas.\n\n##Estimando o modelo\nPainelln&lt;- plm(lcrmrte~I(log(unem)) +  d87, data=crime2.p, model=\"within\")\n\nsummary(Painelln)\n\nOneway (individual) effect Within Model\n\nCall:\nplm(formula = lcrmrte ~ I(log(unem)) + d87, data = crime2.p, \n    model = \"within\")\n\nBalanced Panel: n = 46, T = 2, N = 92\n\nResiduals:\n       Min.     1st Qu.      Median     3rd Qu.        Max. \n-2.3912e-01 -6.9878e-02  1.8648e-17  6.9878e-02  2.3912e-01 \n\nCoefficients:\n             Estimate Std. Error t-value Pr(&gt;|t|)  \nI(log(unem)) 0.164799   0.071263  2.3125  0.02549 *\nd87          0.121119   0.045288  2.6744  0.01047 *\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nTotal Sum of Squares:    0.84604\nResidual Sum of Squares: 0.72674\nR-Squared:      0.141\nAdj. R-Squared: -0.77656\nF-statistic: 3.61129 on 2 and 44 DF, p-value: 0.035303\n\n\nUsando a taxa de crime e desemprego em ln, um aumento de 1% no desemprego aumenta em 0,16% a taxa de crime nos munic√≠pios.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>15</span>¬† <span class='chapter-title'>Modelos Avan√ßados</span>"
    ]
  },
  {
    "objectID": "movimentacao.html",
    "href": "movimentacao.html",
    "title": "8¬† Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado",
    "section": "",
    "text": "8.1 Introdu√ß√£o √† Aula Pr√°tica: Coleta de Dados no DataJud\nNesta aula pr√°tica, vamos aprender como coletar dados processuais utilizando a Base Nacional de Dados do Poder Judici√°rio (DataJud), mantida pelo Conselho Nacional de Justi√ßa (CNJ). O DataJud √© o sistema respons√°vel pelo armazenamento centralizado de dados e metadados de todos os processos judiciais brasileiros, f√≠sicos ou eletr√¥nicos, e ser√° a base que utilizaremos ao longo do curso.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>8</span>¬† <span class='chapter-title'>Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado</span>"
    ]
  },
  {
    "objectID": "movimentacao.html#acesso-ao-datajud",
    "href": "movimentacao.html#acesso-ao-datajud",
    "title": "8¬† Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado",
    "section": "8.2 Acesso ao DataJud",
    "text": "8.2 Acesso ao DataJud\nO DataJud pode ser acessado diretamente no site do CNJ üîó:\nhttps://www.cnj.jus.br/sistemas/datajud/\nA plataforma fornece dados atualizados para diversos os ramos da Justi√ßa brasileira, agrupados e padronizados para permitir an√°lises estat√≠sticas e jurim√©tricas.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>8</span>¬† <span class='chapter-title'>Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado</span>"
    ]
  },
  {
    "objectID": "movimentacao.html#autentica√ß√£o-e-chave-p√∫blica",
    "href": "movimentacao.html#autentica√ß√£o-e-chave-p√∫blica",
    "title": "8¬† Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado",
    "section": "8.3 Autentica√ß√£o e Chave P√∫blica",
    "text": "8.3 Autentica√ß√£o e Chave P√∫blica\nPara acessar os dados via API, utilizaremos a API P√∫blica do DataJud, documentada em:\nhttps://datajud-wiki.cnj.jus.br/api-publica/\nA autentica√ß√£o √© feita por meio de uma chave p√∫blica, disponibilizada pelo DPJ/CNJ. A chave üîë pode ser obtida no seguinte endere√ßo:\nhttps://datajud-wiki.cnj.jus.br/api-publica/acesso\nEssa chave ser√° utilizada diretamente no c√≥digo em R (ou Python), permitindo realizar consultas autenticadas aos dados processuais.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>8</span>¬† <span class='chapter-title'>Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado</span>"
    ]
  },
  {
    "objectID": "movimentacao.html#endpoints-rotas-e-sele√ß√£o-de-tribunais",
    "href": "movimentacao.html#endpoints-rotas-e-sele√ß√£o-de-tribunais",
    "title": "8¬† Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado",
    "section": "8.4 Endpoints, Rotas e Sele√ß√£o de Tribunais",
    "text": "8.4 Endpoints, Rotas e Sele√ß√£o de Tribunais\nPara realizar nossas consultas, precisamos escolher os endpoints dispon√≠veis, indicando o tribunal desejado. Os endpoints est√£o detalhados em:\nhttps://datajud-wiki.cnj.jus.br/api-publica/endpoints\n√â poss√≠vel consultar processos de de diversos ramos da Justi√ßa brasileira:\n\nTribunais Superiores\nJusti√ßa Federal\nJusti√ßa Estadual\nJusti√ßa do Trabalho\nJusti√ßa Eleitoral\nJusti√ßa Militar\n\nNo nosso estudo, utilizaremos os dados do Tribunal de Justi√ßa do Tocantins (TJTO).",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>8</span>¬† <span class='chapter-title'>Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado</span>"
    ]
  },
  {
    "objectID": "movimentacao.html#tipos-de-consultas-poss√≠veis",
    "href": "movimentacao.html#tipos-de-consultas-poss√≠veis",
    "title": "8¬† Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado",
    "section": "8.5 Tipos de Consultas Poss√≠veis",
    "text": "8.5 Tipos de Consultas Poss√≠veis\nA API permite diferentes modalidades de consulta üîç, como:\n\nPesquisa por n√∫mero do processo\nPesquisa paginada\nPesquisa por classe\nPesquisa por assunto\n‚Ä¶\n\nO DataJud tamb√©m disponibiliza exemplos de c√≥digo em Python e R, acess√≠veis na aba de exemplos:\nhttps://datajud-wiki.cnj.jus.br/api-publica/exemplos/",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>8</span>¬† <span class='chapter-title'>Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado</span>"
    ]
  },
  {
    "objectID": "movimentacao.html#gloss√°rio-de-vari√°veis",
    "href": "movimentacao.html#gloss√°rio-de-vari√°veis",
    "title": "8¬† Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado",
    "section": "8.6 Gloss√°rio de Vari√°veis",
    "text": "8.6 Gloss√°rio de Vari√°veis\nO DataJud define nomes espec√≠ficos para cada uma das vari√°veis retornadas pela API. O significado de cada termo pode ser consultado no gloss√°rio oficial:\nhttps://datajud-wiki.cnj.jus.br/api-publica/glossario\nEsse gloss√°rio √© essencial para interpretar corretamente os dados coletados.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>8</span>¬† <span class='chapter-title'>Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado</span>"
    ]
  },
  {
    "objectID": "movimentacao.html#sele√ß√£o-do-assunto-de-interesse",
    "href": "movimentacao.html#sele√ß√£o-do-assunto-de-interesse",
    "title": "8¬† Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado",
    "section": "8.7 Sele√ß√£o do Assunto de Interesse",
    "text": "8.7 Sele√ß√£o do Assunto de Interesse\nEm geral, ao iniciar uma pesquisa emp√≠rica, precisamos definir o assunto processual a ser analisado. Para isso, utilizamos o Sistema de Gest√£o de Tabelas Processuais Unificadas:\nhttps://www.cnj.jus.br/sgt/consulta_publica_assuntos.php\nNo nosso caso, o foco inicial seria Direito Penal/Crimes Contra a Vida, que inclui subcategorias como:\n\n10915 ‚Äî Aborto\n12091 ‚Äî Feminic√≠dio\n12130 ‚Äî Homic√≠dio Agravado pela Pr√°tica de Exterm√≠nio de Seres Humanos\n3371 ‚Äî Homic√≠dio Privilegiado\n3372 ‚Äî Homic√≠dio Qualificado\n15177 ‚Äî Homic√≠dio Qualificado Contra Menor de 14 Anos (Lei Henry Borel)\n3370 ‚Äî Homic√≠dio Simples\n3373 ‚Äî Induzimento, Instiga√ß√£o ou Aux√≠lio a Suic√≠dio\n3375 ‚Äî Infantic√≠dio\n\nPoder√≠amos escolher todas ou algumas dessas categorias para nossa an√°lise.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>8</span>¬† <span class='chapter-title'>Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado</span>"
    ]
  },
  {
    "objectID": "movimentacao.html#escolha-alternativa-pesquisa-por-classe",
    "href": "movimentacao.html#escolha-alternativa-pesquisa-por-classe",
    "title": "8¬† Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado",
    "section": "8.8 Escolha Alternativa: Pesquisa por Classe",
    "text": "8.8 Escolha Alternativa: Pesquisa por Classe\nNesta aula, por√©m, seguiremos um caminho alternativo: em vez de selecionar um assunto espec√≠fico, trabalharemos com a classe processual.\nSelecionamos o seguinte ramo:\nProcesso Criminal ‚Üí Procedimento Comum ‚Üí A√ß√£o Penal de Compet√™ncia do J√∫ri\nC√≥digo: 282\nEssa classe captura processos de crimes dolosos contra a vida julgados pelo Tribunal do J√∫ri, alinhados ao nosso objetivo anal√≠tico. Entretanto, muitos dos assuntos acima listados estar√£o presentes. Al√°m disso, limitamos os nossos processos √† Inst√¢ncia de 1¬∫ Grau (G1).",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>8</span>¬† <span class='chapter-title'>Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado</span>"
    ]
  },
  {
    "objectID": "movimentacao.html#fase-muito-importante",
    "href": "movimentacao.html#fase-muito-importante",
    "title": "8¬† Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado",
    "section": "8.9 Fase Muito Importante",
    "text": "8.9 Fase Muito Importante\nA etapa que descrevemos at√© aqui √© fundamental em qualquer pesquisa emp√≠rica que utilize o DataJud ou outras bases de dados judiciais. As escolhas feitas nesta fase, como a defini√ß√£o do assunto, da classe processual e dos crit√©rios de filtragem, influenciam diretamente o desenho amostral que construiremos.\nUma boa sele√ß√£o inicial garante maior precis√£o, consist√™ncia e relev√¢ncia dos resultados. Por isso, √© essencial conduzir essa etapa com aten√ß√£o, calma e organiza√ß√£o. Quanto mais cuidadosa for a defini√ß√£o desses par√¢metros, melhor ser√° a qualidade da extra√ß√£o dos dados e, consequentemente, das an√°lises que realizaremos nas pr√≥ximas fases do curso.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>8</span>¬† <span class='chapter-title'>Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado</span>"
    ]
  },
  {
    "objectID": "movimentacao.html#colocando-a-m√£o-na-massa-coleta-de-dados-no-datajud",
    "href": "movimentacao.html#colocando-a-m√£o-na-massa-coleta-de-dados-no-datajud",
    "title": "8¬† Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado",
    "section": "8.10 Colocando a M√£o na Massa: Coleta de Dados no DataJud",
    "text": "8.10 Colocando a M√£o na Massa: Coleta de Dados no DataJud\n\n8.10.1 Extra√≠ndo os Dados Processuais\nO c√≥digo abaixo extrair√° os dados da classe 282 do grau G1 do Tribunal de Justi√ßa do Tocantins e salvar√° todas essas informa√ß√µes em um dataframe chamado juri.json.\n\n# Bibloitecas Necess√°rias\nlibrary(tidyverse)\nlibrary(httr)\nlibrary(jsonlite)\n\n# Definindo a Chave de Acesso\nheaders = c(\n  'Authorization' = 'APIKey cDZHYzlZa0JadVREZDJCendQbXY6SkJlTzNjLV9TRENyQk1RdnFKZGRQdw==',\n  'Content-Type' = 'application/json'\n)\n\n# Extraindo os dados do DataJud\n## Classe 282 e grau G1 (1¬∫ Grau)\nbody = '{\n  \"size\": 8930,\n  \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"classe.codigo\": 282}},\n                {\"match\": {\"grau\": \"G1\"}}\n\n            ]\n        }\n   }\n}'\n\n## Do Tribunal de Justi√ßa do Tocantins\nPOST(url = \"https://api-publica.datajud.cnj.jus.br/api_publica_tjto/_search\", body = body, add_headers(headers),\nwrite_disk(\"juri.json\"))\n\n## Importanto o dado\njuri &lt;- fromJSON(\"juri.json\")\nsave(juri, file = \"juri.rds\")\n\nAgora vamos analisar a estrutura do arquivo juri.json para identificar onde cada informa√ß√£o relevante est√° localizada. Esse mapeamento √© essencial porque nos permite compreender exatamente como os dados est√£o organizados e, assim, definir qual tipo de extra√ß√£o precisamos realizar para trabalhar com informa√ß√µes de movimenta√ß√£o, √≥rg√£os julgadores, assuntos e outras caracter√≠sticas presentes no arquivo.\n\n# Pacotes Necess√°rios\nlibrary(tidyverse)\nlibrary(httr)\nlibrary(jsonlite)\n\n## Importanto o dado\nload(\"juri.rds\")\n\n# 1. Verifica a classe do objeto (ex.: list, data.frame)\nclass(juri)  \n\n# 2. ver nomes/elementos de topo\nnames(juri)          # se for lista ou data.frame, mostra colunas/elementos\nlength(juri)         # n√∫mero de elementos/top-level items\n\n# 3. Exibe a estrutura do objeto; max.level evita sa√≠da muito grande\nstr(juri, max.level = 4) \n\n# 4.Extrai os dados principais: hits -&gt; hits -&gt; _source - Aqui est√£o os dados de interesse\n## Cada n√≠vel corresponde a um ramo interno do JSON\ndados_basicos &lt;- juri |&gt;\n  pluck(\"hits\",\"hits\",\"_source\")\n\n\n\n8.10.2 Analisando as Informa√ß√µes Extra√≠das\n√ìrg√£o Julgador dos Processos\nVamos criar um banco que contenha o n√∫mero do processo e o √≥rg√£o julgador respons√°vel por cada caso. Em seguida, analisaremos a frequ√™ncia de processos por √≥rg√£o julgador, tanto considerando apenas processos √∫nicos quanto incluindo processos duplicados.\n\n# Pacote que padroniza os nomes das vari√°veis\nlibrary(janitor)\nlibrary(dplyr)\nlibrary(tidyr)\n\n# Criar um dataframe com n√∫mero do processo e √≥rg√£o julgador\njulgador &lt;- dados_basicos  |&gt; \n      select(processo = numeroProcesso, orgaoJulgador) |&gt; # Fa√ßo a sele√ß√£o e renomeio a coluna\n      unnest(orgaoJulgador) |&gt;  # Como orgaoJulgador √© um dataframe, preciso \"desempacotar\" os dados\n      janitor::clean_names()    # Deixo os nomes padronizados\nnrow(julgador) # n√∫mero total de processos\n\n[1] 8432\n\n\nObserva-se um total de 8432 processos, mas alguns podem estar duplicados. Vamos investigar essa quest√£o. Abaixo est√° o c√≥digo para identificar e analisar processos √∫nicos e duplicados.\n\n# Vamos verificar se existem processos duplicados. \njulgador_uni &lt;- julgador %&gt;% \n  distinct(processo, .keep_all = TRUE)\nnrow(julgador_uni) # numero total de processos √∫nicos\n\n[1] 8287\n\nnrow(julgador) - nrow(julgador_uni) # n√∫mero de processos duplicados\n\n[1] 145\n\n# Vamos analisar os processos duplicados \njulgador_dup &lt;- julgador %&gt;% \n  filter(duplicated(processo) | duplicated(processo, fromLast = TRUE)) \n## Esse comando pega todas as linhas ap√≥s a primeira ocorr√™ncia ou \n## Pega todas as linhas antes da √∫ltima ocorr√™ncia e verifica duplica√ß√£o\n\n## Vamos ver quantos processos duplicados temos:\nnrow(julgador_dup) # n√∫mero de processos duplicados\n\n[1] 289\n\nunique(julgador_dup$processo) |&gt; length() # n√∫mero de processos √∫nicos que est√£o duplicados\n\n[1] 144\n\n\nO total de processos √∫nicos foi de 8.287, e identificamos 144 processos duplicados. Agora, vamos verificar se essas duplica√ß√µes ocorreram em raz√£o de alguma mudan√ßa de √≥rg√£o julgador. Para isso, vamos pivotar os dados e criar uma vari√°vel que indique se houve altera√ß√£o no √≥rg√£o julgador para cada processo duplicado.\n\n## Analisando se houve troca de orga√µ julgador e por isso √© duplicado\n# 1. Criar ordem dentro de cada processo 1, para primeira vez e 2 para a segunda vez....\njulgador_dup_ord &lt;- julgador_dup %&gt;%\n  group_by(processo) %&gt;%\n  mutate(orgao_id = row_number()) %&gt;% \n  ungroup()\n\n# 2. Pivotar para formato wide, selciono e indico o nome que ser√° dado\njulgador_wide &lt;- julgador_dup_ord %&gt;%\n  select(processo, orgao_id, nome) %&gt;%\n  pivot_wider(\n    names_from = orgao_id,\n    values_from = nome,\n    names_prefix = \"julgador\"\n  )\n# 3. Vari√°vel indicando mudan√ßa\njulgador_wide &lt;- julgador_wide %&gt;%\n  rowwise() %&gt;%\n  mutate(\n    mudou_orgao = n_distinct(c_across(starts_with(\"julgador\")), na.rm = TRUE) &gt; 1\n  ) %&gt;%\n  ungroup()\n# - &gt; pega todas as colunas cujo nome come√ßa com \"julgador\", transforma em vetores e verifica se √© distinto\n\njulgador_wide %&gt;% \n  count(mudou_orgao, sort = TRUE) %&gt;% \n  mutate(\n    mudou_orgao = ifelse(mudou_orgao, \"Sim\", \"N√£o\")\n  ) %&gt;% \n  knitr::kable(\n    caption = \"Frequ√™ncia de processos que mudaram de √≥rg√£o julgador\"\n  )\n\n\nFrequ√™ncia de processos que mudaram de √≥rg√£o julgador\n\n\nmudou_orgao\nn\n\n\n\n\nN√£o\n93\n\n\nSim\n51\n\n\n\n\n\nObservamos que 93 processos n√£o mudaram de √≥rg√£o julgador e 51 passaram por altera√ß√£o. Agora precisamos definir como trataremos esses casos: se consideraremos apenas o √≥rg√£o julgador final, se adotaremos o √≥rg√£o julgador inicial como refer√™ncia ou exclu√≠mos. Mas ainda precisamos observar que h√° 93 processos que aparecem duplicados, mesmo sem mudan√ßa de √≥rg√£o julgador. O que pode estar acontecendo nesses casos?\nLIMPEZA DOS DADOS\n\n\n\n\n\n\nEscolha e Justificativa\n\n\n\n\n\nMotivos Poss√≠veis: Recursos, mudan√ßas para varas expecializadas, desclassifica√ß√£o, desforamento, entre outros.\nEscolha: Vamos excluir os processos que mudaram de √≥rg√£o julgador, mantendo apenas aqueles que permaneceram no mesmo √≥rg√£o. Depois analisaremos os processos duplicados restantes.\nJustificativa: A mudan√ßa de √≥rg√£o julgador pode indicar transfer√™ncias ou redistribui√ß√µes que podem afetar a an√°lise do tempo do processo. Para garantir a consist√™ncia dos dados e evitar vieses, mantemos somente aqueles permaneceram no mesmo √≥rg√£o julgador ao longo do tempo.\n\n\n\n\n# Vamos retirar os processos que mudaram de org√£o julgador \n\ndb_limpo &lt;- dados_basicos %&gt;%\n  anti_join(julgador_wide %&gt;% filter(mudou_orgao == TRUE),\n            by = c(\"numeroProcesso\" = \"processo\"))\n\nVamos focar nos processos √∫nicos para analisar a frequ√™ncia de √≥rg√£os julgadores e descrever os resultados graficamente e em tabelas.\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(gt)\n\nfreq_j_u &lt;- julgador_uni %&gt;% \n  count(nome) %&gt;% \n  arrange(desc(n)) %&gt;% \n  mutate(perc = round(100 * n / sum(n), 1))\n\nggplot(freq_j_u, aes(x = reorder(nome, n), y = n)) +\n  geom_col(fill = \"#7185cc\", color = \"white\", alpha = 0.7) +\n  coord_flip() +\n  labs(\n    title = \"Frequ√™ncia por √ìrg√£o Julgador (Processos √önicos)\",\n    x = \"√ìrg√£o Julgador\",\n    y = \"Frequ√™ncia\"\n  ) +\n  theme_classic()+\n  theme(\n    axis.text.y = element_text(size = 4)   # tamanho da letra das categorias\n  )\n\n\n\n\n\n\n\nfreq_j_u |&gt; \n  gt() |&gt;\n  tab_header(\n    title = \"Frequ√™ncia por √ìrg√£o Julgador (Processos √önicos)\"\n  ) |&gt;\n  cols_label(\n    nome = \"√ìrg√£o Julgador\",\n    n = \"Frequ√™ncia\",\n    perc = \"Percentual\"\n  )\n\n\n\n\n\n\n\nFrequ√™ncia por √ìrg√£o Julgador (Processos √önicos)\n\n\n√ìrg√£o Julgador\nFrequ√™ncia\nPercentual\n\n\n\n\nJu√≠zo da 1¬™ Vara Criminal de Aragua√≠na\n965\n11.6\n\n\nJuizo da 1¬™ Vara Criminal de Palmas\n846\n10.2\n\n\nJuizo da Especializada no Combate √† Viol√™ncia Contra a Mulher e Crimes Dolosos Contra a Vida de Guru\n725\n8.7\n\n\nJu√≠zo da 1¬™ Vara Criminal de Porto Nacional\n477\n5.8\n\n\nJu√≠zo da 1¬™ Vara Criminal de Colinas do Tocantins\n419\n5.1\n\n\nJu√≠zo da 1¬™ Vara Criminal de Para√≠so do Tocantins\n326\n3.9\n\n\nJu√≠zo da 2¬™ Vara de Augustin√≥polis\n309\n3.7\n\n\nJu√≠zo da 1¬™ Vara Criminal de Tocantin√≥polis\n294\n3.5\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Itaguatins\n271\n3.3\n\n\nJu√≠zo da Vara Criminal, de Viol√™ncia Dom√©stica e Juizado Especial Criminal de Dian√≥polis\n254\n3.1\n\n\nJu√≠zo da 1¬™ Vara Criminal de Miracema do Tocantins\n216\n2.6\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Colm√©ia\n189\n2.3\n\n\nJu√≠zo da Vara Criminal, de Viol√™ncia Dom√©stica e Juizado Especial Criminal de Araguatins\n178\n2.1\n\n\nJu√≠zo da 1¬™ Vara Criminal de Guara√≠\n177\n2.1\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Peixe\n163\n2.0\n\n\nJu√≠zo da 2¬™ Vara da Comarca de Cristal√¢ndia\n160\n1.9\n\n\nJu√≠zo da 1¬™ Vara Criminal de Taguatinga\n157\n1.9\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Natividade\n154\n1.9\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Goiatins\n151\n1.8\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Formoso do Araguaia\n144\n1.7\n\n\nJu√≠zo da 1¬™ Vara Criminal de Pedro Afonso\n123\n1.5\n\n\nJu√≠zo da 1¬™ Vara Criminal de Arraias\n121\n1.5\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Miranorte\n113\n1.4\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Novo Acordo\n113\n1.4\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Wanderl√¢ndia\n113\n1.4\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Xambio√°\n113\n1.4\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Anan√°s\n98\n1.2\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Filad√©lfia\n95\n1.1\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Araguacema\n91\n1.1\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Aragua√ßu\n88\n1.1\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Ponte Alta\n87\n1.0\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Itacaj√°\n84\n1.0\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Alvorada\n82\n1.0\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Palmeiropolis\n70\n0.8\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Arapoema\n69\n0.8\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Paran√£\n67\n0.8\n\n\nJu√≠zo da 1¬™ Vara Criminal de Dian√≥polis\n51\n0.6\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Cristal√¢ndia\n42\n0.5\n\n\nJu√≠zo da 1¬™ Vara Criminal de Araguatins\n35\n0.4\n\n\nJu√≠zo da 2¬™ Escrivania de Augustin√≥polis\n19\n0.2\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Figueir√≥polis\n10\n0.1\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Aurora\n9\n0.1\n\n\nJu√≠zo da Vara de Execu√ß√µes Penais de Gurupi\n8\n0.1\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Pium\n7\n0.1\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Almas\n4\n0.0\n\n\n\n\n\n\n\nQuest√£o\nComo podemos fazer a nossa an√°lise de movimento considerando que comarcas distintas possuem diferentes volumes de processos? Devemos agrupar as comarcas maiores e as menores? Quais crit√©rios utilizar para isso? Deixamos varas criminais separada de especializadas?\nSistema dos Processos\nAqui avaliamos se os processos pertencem ao sistema sistema eletr√¥nico de processos judiciais EPROC ou a outro sistema.\n\nsistema &lt;- db_limpo  |&gt; \n      select(processo = numeroProcesso, sistema) |&gt; \n      unnest(sistema) |&gt;\n      janitor::clean_names()\n\nfreq_sistema &lt;- sistema %&gt;% \n  count(nome) %&gt;% \n  arrange(desc(n))\n\nfreq_sistema |&gt; \n  gt() |&gt;\n  tab_header(\n    title = \"Frequ√™ncia por Sistema (Processos √önicos)\"\n  ) |&gt;\n  cols_label(\n    nome = \"Sistema\",\n    n = \"Frequ√™ncia\",\n  )\n\n\n\n\n\n\n\nFrequ√™ncia por Sistema (Processos √önicos)\n\n\nSistema\nFrequ√™ncia\n\n\n\n\nEPROC\n8323\n\n\nInv√°lido\n4\n\n\nOutros\n2\n\n\n\n\n\n\n\nCom base na tabela acima, podemos observar a distribui√ß√£o dos processos entre os sistemas Eletr√¥nico e F√≠sico. Observa-se a exist√™ncia somente de processos eletr√¥nicos, mas 4 foram declaros inv√°lidos e 2 Outros. O que fazer com esses casos? Devemos exclu√≠-los da an√°lise ou mant√™-los?\nLIMPEZA DOS DADOS\n\n\n\n\n\n\nEscolha e Justificativa\n\n\n\n\n\nMotivos Poss√≠veis: Cita√ß√£o em outros estados, entre outros.\nEscolha: Vamos excluir todos os processos que n√£o s√£o EPROC.\nJustificativa: N√£o sabemos ao certo os motivos que levaram a um processo ser classificado como inv√°lido ou outros. Al√©m disso, n√£o sabemos como essa classifica√ß√£o afeta a movimenta√ß√£o. Portanton, vamos excluir todos que n√£o foram EPROC e deixar nossa amostra mais homog√™nea.\n\n\n\n\n# Vamos retirar os processos que mudaram de org√£o julgador \n\ndb_limpo &lt;- db_limpo %&gt;%\n  anti_join(sistema %&gt;% filter(!nome == \"EPROC\"),\n            by = c(\"numeroProcesso\" = \"processo\"))\n\nFormato do Processo\nAqui avaliamos se os processos s√£o do tipo Eletr√¥nico ou F√≠sico.\n\nformato &lt;- db_limpo  |&gt; \n      select(processo = numeroProcesso, formato) |&gt; \n      unnest(formato) |&gt;\n      janitor::clean_names()\n\nfreq_formato &lt;- formato %&gt;% \n  count(nome) %&gt;% \n  arrange(desc(n))\n\nfreq_formato |&gt; \n  gt() |&gt;\n  tab_header(\n    title = \"Frequ√™ncia por Formato (Processos √önicos)\"\n  ) |&gt;\n  cols_label(\n    nome = \"Formato\",\n    n = \"Frequ√™ncia\",\n  )\n\n\n\n\n\n\n\nFrequ√™ncia por Formato (Processos √önicos)\n\n\nFormato\nFrequ√™ncia\n\n\n\n\nEletr√¥nico\n8322\n\n\n\n\n\n\n\nObserva-se que 100% dos processos est√£o no formato Eletr√¥nico. Dessa forma, n√£o h√° necessidade de excluir nenhum processo com base nesse crit√©rio.\nClasse Processual\nComo fizemos nossa busca por classe processual, 282, dever√≠amos ter somente essa classe. Vamos verificar se h√° outras classes presentes nos dados.\n\nclasse &lt;- db_limpo  |&gt; \n      select(processo = numeroProcesso, classe) |&gt; \n      unnest(classe) |&gt;\n      janitor::clean_names()\n\nfreq_classe &lt;- classe %&gt;% \n  count(nome) %&gt;% \n  arrange(desc(n))\n\nfreq_classe |&gt; \n  gt() |&gt;\n  tab_header(\n    title = \"Frequ√™ncia por Classe (Processos √önicos)\"\n  ) |&gt;\n  cols_label(\n    nome = \"Classe\",\n    n = \"Frequ√™ncia\",\n  )\n\n\n\n\n\n\n\nFrequ√™ncia por Classe (Processos √önicos)\n\n\nClasse\nFrequ√™ncia\n\n\n\n\nA√ß√£o Penal de Compet√™ncia do J√∫ri\n8322\n\n\n\n\n\n\n\nConforme esperado pela nossa consulta inicial, todos os processos pertencem √† classe A√ß√£o Penal de Compet√™ncia do J√∫ri (282). Portanto, n√£o h√° necessidade de excluir nenhum processo com base nesse crit√©rio.\nAssuntos Processuais\nVamos extrair e analisar os assuntos processuais associados a cada processo. Vamos fazer a extra√ß√£o e veja que o resultado √© uma coluna com processo e a outra com o assunto. Se tivermos mais assuntos por processo, esse ser√° duplicado.\n\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(purrr)\nlibrary(janitor)\nlibrary(ggplot2)\nlibrary(gt)\n\n # manter s√≥ linhas em que 'assuntos' √© um data.frame\nassuntos &lt;- db_limpo |&gt; \n  filter(map_lgl(assuntos, is.data.frame)) |&gt;\n  select(processo = numeroProcesso, assuntos) |&gt;\n  unnest(assuntos) |&gt;\n  clean_names()\n\n# Processos √∫nicos\nnrow(assuntos %&gt;% \n  distinct(processo, .keep_all = TRUE)) # n√∫mero total de processos √∫nicos\n\n[1] 8228\n\nfreq_assunto &lt;- assuntos |&gt; \n  count(nome) |&gt; \n  arrange(desc(n)) |&gt; \n  mutate(perc_assunto = round(100 * n / sum(n), 1)) |&gt; \n  mutate(perc_processo = round(100 * n / 8228, 1))  # considerando processos √∫nicos\n\n\nggplot(freq_assunto, aes(x = reorder(nome, n), y = n)) +\n  geom_col(fill = \"#7185cc\", color = \"white\", alpha = 0.7) +\n  coord_flip() +\n  labs(\n    title = \"Frequ√™ncia por Assunto (Processos √önicos)\",\n    x = \"Assunto\",\n    y = \"Frequ√™ncia\"\n  ) +\n  theme_classic()+\n  theme(\n    axis.text.y = element_text(size = 4))   # tamanho da letra das categorias\n\n\n\n\n\n\n\nfreq_assunto |&gt; \n  gt() |&gt;\n  tab_header(\n    title = \"Frequ√™ncia dos Assuntos\"\n  ) |&gt;\n  cols_label(\n    nome = \"Assunto\",\n    n = \"Frequ√™ncia\",\n    perc_assunto = \"% Assuntos\",\n    perc_processo = \"% Processos\"\n  )\n\n\n\n\n\n\n\nFrequ√™ncia dos Assuntos\n\n\nAssunto\nFrequ√™ncia\n% Assuntos\n% Processos\n\n\n\n\nHomic√≠dio Qualificado\n5933\n52.5\n72.1\n\n\nCrime Tentado\n2733\n24.2\n33.2\n\n\nHomic√≠dio Simples\n1731\n15.3\n21.0\n\n\nFeminic√≠dio\n362\n3.2\n4.4\n\n\nViol√™ncia Dom√©stica Contra a Mulher\n91\n0.8\n1.1\n\n\nCrimes do Sistema Nacional de Armas\n47\n0.4\n0.6\n\n\nHomic√≠dio Privilegiado\n45\n0.4\n0.5\n\n\nDestrui√ß√£o / Subra√ß√£o / Oculta√ß√£o de Cad√°ver\n28\n0.2\n0.3\n\n\nPromo√ß√£o, constitui√ß√£o, financiamento ou integra√ß√£o de Organiza√ß√£o Criminosa\n24\n0.2\n0.3\n\n\nHomicidio qualificado\n20\n0.2\n0.2\n\n\nCrimes contra a vida\n18\n0.2\n0.2\n\n\nCrimes Previstos no Estatuto da crian√ßa e do adolescente\n17\n0.2\n0.2\n\n\nAmea√ßa\n15\n0.1\n0.2\n\n\nAborto provocado por terceiro\n14\n0.1\n0.2\n\n\nCrime / Contraven√ß√£o contra Crian√ßa / Adolescente\n13\n0.1\n0.2\n\n\nFurto\n12\n0.1\n0.1\n\n\nAborto provocado pela gestante ou com o seu consentimento\n10\n0.1\n0.1\n\n\nCrimes de Tr√¢nsito\n10\n0.1\n0.1\n\n\nLeve\n10\n0.1\n0.1\n\n\nGrave\n9\n0.1\n0.1\n\n\nCorrup√ß√£o de Menores\n8\n0.1\n0.1\n\n\nContra a Mulher\n7\n0.1\n0.1\n\n\nFraude processual\n7\n0.1\n0.1\n\n\nCrime Culposo\n6\n0.1\n0.1\n\n\nDano Qualificado\n6\n0.1\n0.1\n\n\nRoubo Majorado\n6\n0.1\n0.1\n\n\nEstupro de vulner√°vel\n5\n0.0\n0.1\n\n\nFalsidade ideol√≥gica\n5\n0.0\n0.1\n\n\nFalso testemunho ou falsa per√≠cia\n5\n0.0\n0.1\n\n\nRecebimento\n5\n0.0\n0.1\n\n\nSeq√ºestro e c√°rcere privado\n5\n0.0\n0.1\n\n\nTr√°fico de Drogas e Condutas Afins\n5\n0.0\n0.1\n\n\nResist√™ncia\n4\n0.0\n0.0\n\n\nViola√ß√£o a Sepultura\n4\n0.0\n0.0\n\n\nViola√ß√£o de domic√≠lio\n4\n0.0\n0.0\n\n\nAborto qualificado\n3\n0.0\n0.0\n\n\nAdultera√ß√£o de Sinal Identificador de Ve√≠culo Automotor\n3\n0.0\n0.0\n\n\nCoa√ß√£o no curso do processo\n3\n0.0\n0.0\n\n\nCrime de Descumprimento de Medida Protetiva de Urg√™ncia\n3\n0.0\n0.0\n\n\nCrimes de Tortura\n3\n0.0\n0.0\n\n\nDano\n3\n0.0\n0.0\n\n\nEstupro\n3\n0.0\n0.0\n\n\nFurto Qualificado\n3\n0.0\n0.0\n\n\nHomic√≠dio\n3\n0.0\n0.0\n\n\nHomic√≠dio Agravado pela Pr√°tica de Exterm√≠nio de Seres Humanos\n3\n0.0\n0.0\n\n\nLatroc√≠nio\n3\n0.0\n0.0\n\n\nQuadrilha ou Bando\n3\n0.0\n0.0\n\n\nRoubo\n3\n0.0\n0.0\n\n\nNA\n3\n0.0\n0.0\n\n\nCrimes Hediondos\n2\n0.0\n0.0\n\n\nDecorrente de Viol√™ncia Dom√©stica\n2\n0.0\n0.0\n\n\nInc√™ndio\n2\n0.0\n0.0\n\n\nInfantic√≠dio\n2\n0.0\n0.0\n\n\nLes√£o leve\n2\n0.0\n0.0\n\n\nAssocia√ß√£o para a Produ√ß√£o e Tr√°fico e Condutas Afins\n1\n0.0\n0.0\n\n\nAtentado Violento ao Pudor\n1\n0.0\n0.0\n\n\nComunica√ß√£o falsa de crime ou de contraven√ß√£o\n1\n0.0\n0.0\n\n\nCrime / Contraven√ß√£o contra Idoso\n1\n0.0\n0.0\n\n\nCrimes Previstos no Estatuto do Idoso\n1\n0.0\n0.0\n\n\nCrimes contra a Fauna\n1\n0.0\n0.0\n\n\nDenuncia√ß√£o caluniosa\n1\n0.0\n0.0\n\n\nDesacato\n1\n0.0\n0.0\n\n\nDescumprimento de Medida Protetiva de Urg√™ncia\n1\n0.0\n0.0\n\n\nEstelionato Majorado\n1\n0.0\n0.0\n\n\nExtors√£o (art. 158)\n1\n0.0\n0.0\n\n\nFalsa identidade\n1\n0.0\n0.0\n\n\nFurto de coisa comum\n1\n0.0\n0.0\n\n\nGrav√≠ssima\n1\n0.0\n0.0\n\n\nInduzimento, Instiga√ß√£o ou Aux√≠lio a Suic√≠dio\n1\n0.0\n0.0\n\n\nInj√∫ria\n1\n0.0\n0.0\n\n\nLes√£o Cometida em Raz√£o da Condi√ß√£o de Mulher\n1\n0.0\n0.0\n\n\nParticipa√ß√£o il√≠cita\n1\n0.0\n0.0\n\n\nPersegui√ß√£o\n1\n0.0\n0.0\n\n\nPosse de Drogas para Consumo Pessoal\n1\n0.0\n0.0\n\n\nRecepta√ß√£o\n1\n0.0\n0.0\n\n\nRecepta√ß√£o Qualificada\n1\n0.0\n0.0\n\n\nRecurso\n1\n0.0\n0.0\n\n\nSequestro ou c√°rcere privado\n1\n0.0\n0.0\n\n\nVilip√™ndio a Cad√°ver\n1\n0.0\n0.0\n\n\nViol√™ncia Psicol√≥gica contra a Mulher\n1\n0.0\n0.0\n\n\n\n\n\n\n\nAssuntos tem um total de 11302 processos, sendo que o n√∫mero de processos √∫nicos √© 82228. Isso indica que muitos processos t√™m mais de um assunto associado. Ent√£o a leitura da tabela acima deve considerar esses n√∫meros. Podemos dizer que 5933 processos tiveram Homic√≠dio Qualificado como assunto, 2733 tiveram Crime Tentado, e assim por diante. Existe sobreposi√ß√£o entre os assuntos.\nFizemos duas colunas, uma com percentual com base no total de assuntos (11302), % Assuntos, e outra com base no total de processos √∫nicos (8228), % Processos. A segunda coluna √© mais interessante, pois indica a propor√ß√£o de processos que tiveram cada assunto.\nAgora vamos olhar o assunto por processo, para ver quantos assuntos cada processo tem associado.\n\nlibrary(dplyr)\nlibrary(tidyr)\nassuntos_wide &lt;- assuntos %&gt;% \n  group_by(processo, nome) %&gt;%   # garante uma linha por processo-assunto\n  summarise(valor = 1, .groups = \"drop\") %&gt;%\n  pivot_wider(\n    names_from = nome,\n    values_from = valor,\n    values_fill = list(valor = 0)   # preenche com 0 se n√£o ocorreu\n  )\n\nassuntos_wide %&gt;% \n  slice_head(n = 10) %&gt;% \n  select(1:8) %&gt;%\n  gt() %&gt;% \n  tab_header(\n    title = \"Assuntos por Processo (Exemplo)\"\n  )\n\n\n\n\n\n\n\nAssuntos por Processo (Exemplo)\n\n\nprocesso\nHomic√≠dio Simples\nCrime Tentado\nHomic√≠dio Qualificado\nCorrup√ß√£o de Menores\nFeminic√≠dio\nViol√™ncia Dom√©stica Contra a Mulher\nHomic√≠dio Privilegiado\n\n\n\n\n00000059520148272720\n1\n0\n0\n0\n0\n0\n0\n\n\n00000067320168272732\n0\n1\n1\n0\n0\n0\n0\n\n\n00000072320198272742\n1\n1\n0\n0\n0\n0\n0\n\n\n00000080820148272734\n1\n0\n0\n0\n0\n0\n0\n\n\n00000081220218272718\n0\n0\n1\n1\n0\n0\n0\n\n\n00000109320198272736\n1\n0\n0\n0\n0\n0\n0\n\n\n00000121120208272742\n1\n0\n0\n0\n0\n0\n0\n\n\n00000123520158272726\n1\n0\n0\n0\n0\n0\n0\n\n\n00000137020178272719\n0\n0\n1\n0\n0\n0\n0\n\n\n00000170620248272738\n0\n1\n1\n0\n0\n0\n0\n\n\n\n\n\n\n\nAgora cada linha √© um processo √∫nico com todos os assuntos listados. Tivemos um total de 8228. Para o tribunal do Juri tem-se 5 tipos penais: Homic√≠dio Qualificado, Homic√≠dio Simples, Infantic√≠dio, Aborto, Induzimento ao Suic√≠dio e a partir de outubro de 24 o Feminic√≠dio.\nQuest√£o:\nDevemos incluir todos os assuntos ou focar apenas em alguns? Quais crit√©rios utilizar para essa sele√ß√£o?\nLIMPEZA DOS DADOS\n\n\n\n\n\n\nEscolha e Justificativa\n\n\n\n\n\nEscolha: Vamos trabalhar somente com homic√≠dio Qualificado, Simples e Feminic√≠dio.\nJustificativa: Acreditamos que esse esses processos possuem um perfil semelhante entre si, e diferente do infantic√≠dio, aborto e induzimento ao suic√≠dio.\n\n\n\n\n# Vamos retirar os processos que mudaram de org√£o julgador \n\nassuntos_wide_limpo &lt;- assuntos_wide %&gt;%\n  mutate(\n    homic_bin = if_any(\n      c(\n        \"Homic√≠dio Qualificado\",\n        \"Homic√≠dio Simples\",\n        \"Feminic√≠dio\",\n        \"Homicidio qualificado\",\n        \"Homic√≠dio\"\n      ),\n      ~ .x == 1\n    ) * 1\n  )\n\ndb_limpo &lt;- db_limpo %&gt;%\n  anti_join(assuntos_wide_limpo %&gt;% filter(homic_bin == 0),\n            by = c(\"numeroProcesso\" = \"processo\"))\n\nnrow(db_limpo) # n√∫mero total de processos ap√≥s limpeza\n\n[1] 7867\n\nnrow(db_limpo %&gt;% \n  distinct(numeroProcesso, .keep_all = TRUE)) # n√∫mero total de processos √∫nicos\n\n[1] 7775\n\n\nAo final do procedimento, observamos que o banco de dados original continha 8.432 processos. Ap√≥s as etapas de limpeza e organiza√ß√£o, chegamos a 7.867 registros. No entanto, ainda identificamos a exist√™ncia de processos duplicados. O total de processos √∫nicos √© de 7.775, o que significa que permanecem 92 processos duplicados para os quais ainda precisamos definir um tratamento adequado.\nLIMPEZA DOS DADOS\n\n\n\n\n\n\nEscolha e Justificativa\n\n\n\n\n\nEscolha: Excuir os processos duplicados.\nJustificativa: Como n√£o est√° claro o motivo dessa duplica√ß√£o e quais seus impactos sobre a movimenta√ß√£o, vamos optar pela exclus√£o desses processos.Note que poderiamos identificar esses processos e fazermos uma an√°lise mais detalhada sobre eles.\nMotivos: Insidente de insanidade mental, por exemplo. Processo separado mas com mesmo n√∫mero.\n\n\n\n\n# Vamos retirar os processos que mudaram de org√£o julgador \ndb_limpo &lt;- db_limpo %&gt;%\n  anti_join(julgador_dup,\n            by = c(\"numeroProcesso\" = \"processo\"))\n\nConclu√≠mos a limpeza com 7.683 processos, que ser√£o a base da an√°lise de movimenta√ß√£o. Antes de prosseguir, vamos reorganizar as tabelas anteriores de julgador, assunto e demais vari√°veis, usando agora apenas esse banco de dados limpo.\nTABELAS FINAIS AP√ìS LIMPEZA DOS DADOS\nCom os dados limpos vamos criar uma data.frame de julgados final. Nesse vamos deixar o processo, o √≥rg√£o julgador, e criar vari√°veis que indiquem se o √≥rg√£o √© especializado ou n√£o, e se est√° entre os 5 com maior volume de processos.\n\n# Pacote que padroniza os nomes das vari√°veis\nlibrary(janitor)\nlibrary(dplyr)\nlibrary(tidyr)\n\n# JULGADOR\njulgador_final &lt;- db_limpo  |&gt; \n      select(processo = numeroProcesso, orgaoJulgador) |&gt; \n      unnest(orgaoJulgador) |&gt;   \n      janitor::clean_names() \n\n# Alterando o nome para facilitar a leitura e excluindo o cod do IBGE\njulgador_final &lt;- julgador_final %&gt;%\n  rename(orgao_julgador = nome) %&gt;%\n  select(-codigo_municipio_ibge)  \n\n\n# Construindo a tabela final do org√£o julgador\nfreq_j_f &lt;- julgador_final %&gt;% \n  count(orgao_julgador) %&gt;% \n  arrange(desc(n)) %&gt;% \n  mutate(perc = round(100 * n / sum(n), 1))\n\nfreq_j_f |&gt; \n  gt() |&gt;\n  tab_header(\n    title = \"Frequ√™ncia por √ìrg√£o Julgador (Processos √önicos)\"\n  ) |&gt;\n  cols_label(\n    orgao_julgador = \"√ìrg√£o Julgador\",\n    n = \"Frequ√™ncia\",\n    perc = \"Percentual\"\n  )\n\n\n\n\n\n\n\nFrequ√™ncia por √ìrg√£o Julgador (Processos √önicos)\n\n\n√ìrg√£o Julgador\nFrequ√™ncia\nPercentual\n\n\n\n\nJu√≠zo da 1¬™ Vara Criminal de Aragua√≠na\n934\n12.2\n\n\nJuizo da 1¬™ Vara Criminal de Palmas\n820\n10.7\n\n\nJuizo da Especializada no Combate √† Viol√™ncia Contra a Mulher e Crimes Dolosos Contra a Vida de Guru\n689\n9.0\n\n\nJu√≠zo da 1¬™ Vara Criminal de Porto Nacional\n421\n5.5\n\n\nJu√≠zo da 1¬™ Vara Criminal de Colinas do Tocantins\n386\n5.0\n\n\nJu√≠zo da 1¬™ Vara Criminal de Para√≠so do Tocantins\n309\n4.0\n\n\nJu√≠zo da 2¬™ Vara de Augustin√≥polis\n275\n3.6\n\n\nJu√≠zo da 1¬™ Vara Criminal de Tocantin√≥polis\n271\n3.5\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Itaguatins\n256\n3.3\n\n\nJu√≠zo da Vara Criminal, de Viol√™ncia Dom√©stica e Juizado Especial Criminal de Dian√≥polis\n217\n2.8\n\n\nJu√≠zo da 1¬™ Vara Criminal de Miracema do Tocantins\n201\n2.6\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Colm√©ia\n179\n2.3\n\n\nJu√≠zo da 1¬™ Vara Criminal de Guara√≠\n163\n2.1\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Peixe\n159\n2.1\n\n\nJu√≠zo da Vara Criminal, de Viol√™ncia Dom√©stica e Juizado Especial Criminal de Araguatins\n154\n2.0\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Natividade\n150\n2.0\n\n\nJu√≠zo da 2¬™ Vara da Comarca de Cristal√¢ndia\n149\n1.9\n\n\nJu√≠zo da 1¬™ Vara Criminal de Taguatinga\n142\n1.8\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Formoso do Araguaia\n139\n1.8\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Goiatins\n136\n1.8\n\n\nJu√≠zo da 1¬™ Vara Criminal de Arraias\n116\n1.5\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Miranorte\n111\n1.4\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Wanderl√¢ndia\n110\n1.4\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Xambio√°\n110\n1.4\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Novo Acordo\n107\n1.4\n\n\nJu√≠zo da 1¬™ Vara Criminal de Pedro Afonso\n105\n1.4\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Filad√©lfia\n95\n1.2\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Anan√°s\n92\n1.2\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Aragua√ßu\n81\n1.1\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Ponte Alta\n77\n1.0\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Araguacema\n72\n0.9\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Alvorada\n71\n0.9\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Arapoema\n68\n0.9\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Itacaj√°\n64\n0.8\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Palmeiropolis\n64\n0.8\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Paran√£\n60\n0.8\n\n\nJu√≠zo da 1¬™ Vara Criminal de Dian√≥polis\n36\n0.5\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Cristal√¢ndia\n35\n0.5\n\n\nJu√≠zo da 1¬™ Vara Criminal de Araguatins\n27\n0.4\n\n\nJu√≠zo da 2¬™ Escrivania de Augustin√≥polis\n18\n0.2\n\n\nJu√≠zo da Vara de Execu√ß√µes Penais de Gurupi\n8\n0.1\n\n\nJu√≠zo da 1¬™ Escrivania Criminal de Aurora\n6\n0.1\n\n\n\n\n\n\n\nIdentificando a Varas Especializadas e as Varas com Maior Volume de Processos\n\n# Identificando as Varas Especializadas\njulgador_final &lt;- julgador_final %&gt;%\n  mutate(\n        vara_espec = ifelse(\n      orgao_julgador %in% c(\n        \"Juizo da Especializada no Combate √† Viol√™ncia Contra a Mulher e Crimes Dolosos Contra a Vida de Guru\",\n        \"Ju√≠zo da Vara Criminal, de Viol√™ncia Dom√©stica e Juizado Especial Criminal de Dian√≥polis\",\n        \"Ju√≠zo da Vara Criminal, de Viol√™ncia Dom√©stica e Juizado Especial Criminal de Araguatins\"\n      ),\n      1, 0\n    )\n  )\n\n# Identificando as varas com maior volume de processos (top 5)\n\njulgador_final &lt;- julgador_final %&gt;%\n  mutate(\n    volume_top5 = ifelse(\n      orgao_julgador %in% c(\n        \"Ju√≠zo da 1¬™ Vara Criminal de Aragua√≠na\",\n        \"Juizo da 1¬™ Vara Criminal de Palmas\",\n        \"Ju√≠zo da 1¬™ Vara Criminal de Porto Nacional\",\n        \"Ju√≠zo da 1¬™ Vara Criminal de Colinas do Tocantins\",\n        \"Ju√≠zo da 1¬™ Vara Criminal de Para√≠so do Tocantins\"\n      ),\n      1, 0\n    )\n  )\n\nAgora come√ßaremos a montar o banco de dados final, agregando todos os bancos que j√° organizamos. Vamos unir as informa√ß√µes de √≥rg√£o julgador, sistema, formato, classe e assunto al√©m das vari√°veis bin√°rias que criamos anteriormente.\n\nsistema_final &lt;- db_limpo  |&gt; \n      select(processo = numeroProcesso, sistema) |&gt; \n      unnest(sistema) |&gt;\n      janitor::clean_names()\n\nsistema_final &lt;- sistema_final %&gt;%\n  rename(sistema = nome)\n\nbd_final &lt;- julgador_final |&gt; \n  left_join(sistema_final, by = c(\"processo\" = \"processo\")) |&gt;\n  left_join(formato, by = c(\"processo\" = \"processo\")) |&gt;\n  left_join(classe, by = c(\"processo\" = \"processo\"))\n\nbd_final &lt;- bd_final %&gt;%\n  rename(\n    cod_julgador = codigo.x,\n    cod_sistema = codigo.y,\n    cod_formato = codigo.x.x,\n    cod_classe = codigo.y.y,\n    formato = nome.x,\n    classe = nome.y\n  )\n\nAgora vamos organizar o banco de dados de assuntos. Vamos utilizar o nosso assunto_wide para trazer para o nosso banco de dados final e crarmos vari√°veis bin√°rias.\nPrimeiro vamos ver se todos os assuntos est√£o presentes e depois vamos deixar somente aqueles que possuem soma maior que zero.\n\nlibrary(dplyr)\nlibrary(tidyr)\n\nbd_final &lt;- bd_final |&gt; \n  left_join(assuntos_wide_limpo, by = c(\"processo\" = \"processo\"))\n\ntabela_somas &lt;- bd_final %&gt;%\n  summarise(across(where(is.numeric), ~ sum(.x, na.rm = TRUE))) %&gt;%\n  pivot_longer(cols = everything(),\n               names_to = \"variavel\",\n               values_to = \"soma\")\n\n\n# Mant√©m todas as n√£o num√©ricas \n# Identifica colunas num√©ricas com soma &gt; 0\n# Mant√©m apenas num√©ricas cuja soma &gt; 0\nbd_final &lt;- bd_final |&gt; \n  select(\n    where(~ !is.numeric(.x)),\n    where(~ is.numeric(.x) && sum(.x, na.rm = TRUE) &gt; 0)\n  ) |&gt; \n  janitor::clean_names()\n\n# Essa vari√°vel criada anteriormente era apenas para apoio\ntable(bd_final$homic_bin)\n\n\n   1 \n7681 \n\n# Vamos retirar \nbd_final &lt;- bd_final %&gt;%\n  select(-homic_bin)\n\n# Vari√°veis que identificam tipos de homic√≠dio\nbd_final &lt;- bd_final %&gt;%\n  mutate(\n    hq  = ifelse(homicidio_qualificado == 1 | homicidio_qualificado_2 == 1, 1, 0),\n    hs  = ifelse(homicidio_simples == 1, 1, 0),\n    fem = ifelse(feminicidio == 1, 1, 0)\n  )\n\nTrouxemos a tabela assuntos_wide_limpo e identificamos que algumas colunas estavam completamente zeradas. Isso ficou claro a partir da tabela de somas. Assim, removemos apenas as vari√°veis num√©ricas com soma igual a zero, mantendo todas as vari√°veis n√£o num√©ricas.\nTamb√©m exclu√≠mos a vari√°vel homic_bin, usada apenas como apoio na etapa anterior.\nPor fim, criamos vari√°veis bin√°rias para identificar tr√™s categorias principais de homic√≠dio: homic√≠dio qualificado, homic√≠dio simples e feminic√≠dio. √â importante notar que essas categorias podem se sobrepor em alguns processos.\n\n\n8.10.3 An√°lise da Movimenta√ß√£o Processual\n\n# Instalando Pacotes necess√°rios\n#install.packages(\"devtools\") \nlibrary(janitor)\ndevtools::install_github(\"courtsbr/JurisMiner\")\n\nmovimento &lt;- dados_basicos  |&gt; \n      select(processo = numeroProcesso, movimentos) |&gt;\n      unnest(movimentos) |&gt; \n      janitor::clean_names() |&gt; \n      select(-complementos_tabelados) |&gt; \n      mutate(data_hora = parse_datetime(data_hora))\n\nmovimento  &lt;- movimento |&gt; \n     arrange(processo, desc(data_hora)) |&gt; \n     JurisMiner::tempo_movimentacao(data = data_hora)",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>8</span>¬† <span class='chapter-title'>Aula Pr√°tica: Coleta e An√°lise de Dados sobre Homic√≠dio Qualificado</span>"
    ]
  },
  {
    "objectID": "lineares.html",
    "href": "lineares.html",
    "title": "14¬† Modelos Lineares",
    "section": "",
    "text": "14.1 Introdu√ß√£o\nVamos iniciar o estudo de modelos lineares come√ßando pela Regres√£o Linear Simples (RLS). Mais espec√≠ficamente, vamos estudar a RLS no contexto de dados de corte transversal. Tal abordagem, segmentada por tipos de dados, facil√≠ta o entendimento das hip√≥teses do modelo.\nOs conceitos estat√≠sticos aplicados no estudo de RLS s√£o os mesmos apresentados na se√ß√£o anterior.\nO mat√©rial desta se√ß√£o √© baseado na 4ed do livro de Jeffrey Wooldridge, Introdu√ß√£o √† Econometria: Uma Abordagem Moderna, de 2013. Embora o t√≠tulo do livro remeta √† econometria, os modelos apresentados no livro s√£o aplicaveis √† diversas Ci√™ncias Sociais, tais como o Direito, Ci√™ncia Pol√≠tica, Sociologia, Psicologia Emp√≠rica etc‚Ä¶\nA an√°lise de Regress√£o √© um instrumento poderoso para os centistas sociais. Podemos verificar como determinadas vari√°veis importantes nas ciencias sociais interagem com outras, as vezes em uma rela√ß√£o de causa e efeito.\nAqui tamb√©m teremos que ter uma quest√£o ou problema. Anteriormente gostariamos de entender o que estava acontecendo, qual a Renda pc das mulheres, qual a taxa de feminic√≠dio‚Ä¶ Agora queremos ir mais a fundo, porque determinados bairros tem mais crime do que outros? O que determina a renda pc de uma mulher?\nCome√ßamos com o modelo mais geral da popula√ß√£o:\n\\[y = \\beta_0 + \\beta_1x + u \\]\nNesta equa√ß√£o, \\(y\\) √© a variavel dependente ou tamb√©m denominada de vari√°vel explicada; \\(x\\) √© a vari√°vel explicativa e \\(u\\) √© o termo de erro. Essa equa√ß√£o √© uma equa√ß√£o de regress√£o linear simples.\nVejamos um exemplo\nGostariamos de explicar a taxa de crimes nos bairros de uma cidade e consideramos que os n√≠veis de desemprego nas localidades s√£o importantes. Nosso modelo de regress√£o poderia ser espec√≠ficado da seguinte maneira:\n\\[Crime_i = \\beta_0 + \\beta_1Desemprego_i + u\\]\nO subscrito \\(i\\) se refere a um bairro hipot√©tico da cidade. Note que nesse caso, \\(i\\) √© o subscrito que relaciona nossas unidades de observa√ß√£o (bairros). Nossas unidades de observa√ß√£o podem variar a depender do contexto em estudo: pa√≠ses, cidades, bairros, estados, pessoas, processos, varas, tribunais‚Ä¶.\nNote que, novamente o termo de erro, \\(u\\), est√° presente na equa√ß√£o. O termo de erro, n√£o observado, capta tudo aquilo que afeta \\(Crime\\), mas que n√£o estamos controlando, ou seja, que n√£o √© explicado pelo \\(Desemprego\\).\nVoltemos a equa√ß√£o b√°sica:\n\\[y = \\beta_0 + \\beta_1x + u \\]\nNa an√°lise de RLS estamos interessados nos par√¢metros \\(\\beta_0\\) e sobretudo \\(\\beta_1\\). A raz√£o primordial para isso √© que, tudo o mais constante, a rela√ß√£o acima aponta que\n\\[\\Delta y = \\beta_1 \\Delta x \\] , se \\[\\Delta u = 0\\]\nIsto √©, se tudo o mais que afeta \\(y\\) permanecer inalterado, uma vari√°√ß√£o em \\(x\\), \\(\\Delta x\\), ter√° um impacto de \\(\\beta_1 \\Delta x\\) em \\(y\\). No exemplo da criminalidade, teremos que:\n\\[\\Delta crime = \\beta_1 \\Delta desemprego \\]\nAssim, o aumento de 1 ponto no desemprego ir√° ter o efeito de \\(\\beta_1\\) unidades de crimes em m√©dia. Por isso, quando conseguimos estimar os par√™metros \\(\\beta\\) estamos mais pr√≥ximos de entender as rela√ß√µes entre \\(x\\) e \\(y\\) em nossas aplica√ß√µes.\nCabe destacar algo bastante importante.As rela√ß√µes acima n√£o encerram a quest√£o da causalidade. Como podemos inferir um impacto causal do desemprego na criminalidade se estamos ignorando todos os demais fatores que ficaram de fora do modelo - fatores que s√£o captados em \\(u\\) n√£o observados.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>14</span>¬† <span class='chapter-title'>Modelos Lineares</span>"
    ]
  },
  {
    "objectID": "lineares.html#introdu√ß√£o",
    "href": "lineares.html#introdu√ß√£o",
    "title": "14¬† Modelos Lineares",
    "section": "",
    "text": "14.1.1 Alguns Exemplos de Regress√£o Aplicados ao Contexto Jur√≠dico:\nConsidere os seguintes exemplos de RLS aplicadas ao contexto do Direito\nPrevis√£o de Senten√ßas com Base na Gravidade do Crime:\n\nVari√°vel dependente \\((Y)\\): Tamanho da pena,\nVari√°vel independente\\((X)\\): Gravidade do Crime,\nObjetivo: Identificar se a gravidade do crime tem influ√™ncia sobre tamanho da pena.\n\nNesse exemplo \\(\\beta_0\\) √© o intercepto da regress√£o e \\(\\beta_1\\) o coeficiente de regress√£o que representa como a gravidade do crime influ√™ncia o tamanho da pena, \\(u\\) √© o termo de erro.\n\\[Dpena = \\beta_0 + \\beta_1{\\text{Gravidade}} + u\\]\nAn√°lise de Fatores que Influenciam o Tempo de Julgamento:\n\nVari√°vel Dependente (\\(Y\\)): Tempo de Dura√ß√£o do Processo\nVari√°vel Independente (\\(x\\)), Tipo de Processo (por exemplo, criminal, civil, administrativo).\nObjetivo: Identificar se o tipo de processo tem impacto no tempo que um caso leva para ser conclu√≠do.\n\n\\[Tempo = \\beta_0 + \\beta_1  Processo  + u\\]\nPrevis√£o de Probabilidade de Recurso com Base em Decis√µes Anteriores:\n\nVari√°vel Dependente (\\(Y\\)): Probabilidade de Entrada com Recurso\nVari√°vel Independente (\\(X\\)): Resultado da Decis√£o Anterior (por exemplo, deferimento ou nega√ß√£o do recurso).\nObjetivo: Determinar a probabilidade de um recurso ser apresentado com base no resultado de decis√µes passadas.\n\n\\[Recurso = \\beta_0 + \\beta_1 Resultado_{-1} + u \\]\nAn√°lise de Rela√ß√£o entre N√∫mero de Testemunhas e Veredito:\n\nVari√°vel Dependente (\\(Y\\)): Veredito (por exemplo, culpado ou inocente)\nVari√°vel Independente (\\(X\\)): N√∫mero de Testemunhas.\nObjetivo: Investigar se o n√∫mero de testemunhas influencia a decis√£o.\n\n\\[ Veredito = \\beta_0 + \\beta_1 Testemunhas + u \\]",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>14</span>¬† <span class='chapter-title'>Modelos Lineares</span>"
    ]
  },
  {
    "objectID": "lineares.html#hip√≥teses-sobre-o-comportamento-do-termo-de-erro",
    "href": "lineares.html#hip√≥teses-sobre-o-comportamento-do-termo-de-erro",
    "title": "14¬† Modelos Lineares",
    "section": "14.2 Hip√≥teses sobre o comportamento do Termo de Erro",
    "text": "14.2 Hip√≥teses sobre o comportamento do Termo de Erro\nSe especificamos o modelo com \\(\\beta_0\\), podemos assumir que \\(u\\), tem m√©dia igual a zero. Em nota√ß√£o de esperan√ßa matem√°tica essa hip√≥tese equivale a:\n\\[E(u) = 0\\]\nPodemos definir uma segunda hipotese sobre \\(u\\). Uma hip√≥tese forte, √© a de que \\(u\\) e \\(x\\) s√£o independentes. Tal h√≠p√≥tese √© crucial do modelo de RLS:\n\\[E(u|x) = 0\\]\nJustas as hip√≥teses de \\(E(u) = 0\\) e \\(E(u|x) = 0\\) s√£o denominadas de hipotese de m√©dia condicional zero.\nDessa forma, no nosso modelo inicial:\n\\[y = \\beta_0 + \\beta_1x + u\\]\nAplicando o operador \\(E( \\cdot |x )\\), obtemos\n\\[ E( y |x ) = \\beta_0 + \\beta_1x \\]\nAssim, na equa√ß√£o acima, temos um aumento de uma unidade em \\(x\\), implica em um aumento no valor esperado (ou em m√©dia) de \\(y\\) na magnitude de \\(\\beta_1\\).\nA equa√ß√£o acima, √© caracterizada como fun√ß√£o de regress√£o populacional. Essa fun√ß√£o nos fornece a rela√ß√£o entre os diferentes n√≠veis de \\(x\\) √© o n√≠vel m√©dio de \\(y\\), isto √© \\(E( y |x )\\).\n\n\n\nFun√ß√£o de Regress√£o Populacional, fonte: Anderson David R., Sweeney Dennis J., Williams Thomas A. (2019), Statistics for Business & Economics, Cengage Learning; 14th edition\n\n\nAgora, podemos voltar a nossa equa√ß√£o base e verificarmos o progresso feito no entendimento do modelo:\n\\[y = \\beta_0 + \\beta_1x + u \\]\n\\[y = E( y |x ) + u \\]\nNa equa√ß√£o acima, \\(E( y |x )\\) √© chamada de parte sistem√°tica de \\(y\\). Isto √©, a parte sistematicamente explicada por \\(x\\). J√° o termo de erro n√£o observado, \\(u\\) √© a parte n√£o sistem√°tica de \\(y\\), n√£o explicada por \\(x\\).",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>14</span>¬† <span class='chapter-title'>Modelos Lineares</span>"
    ]
  },
  {
    "objectID": "lineares.html#estima√ß√£o-dos-par√¢metros-da-rls",
    "href": "lineares.html#estima√ß√£o-dos-par√¢metros-da-rls",
    "title": "14¬† Modelos Lineares",
    "section": "14.3 Estima√ß√£o dos Par√¢metros da RLS",
    "text": "14.3 Estima√ß√£o dos Par√¢metros da RLS\nN√£o conhecemos \\(\\beta_0\\) e \\(\\beta_1\\) queremos estimadores desses parametros: \\(\\hat{\\beta_0}\\) e \\(\\hat{\\beta_1}\\).\nSuponha que tenhamos uma amostra aleat√≥ria da popula√ß√£o: \\(\\{(x_i, y_i): i = 1, ..., n\\}\\). Poderia ser uma amostra de crimes e taxa de desemprego por bairros.\nEm nosso modelo base:\n\\[y_i = \\beta_0 + \\beta_1x_i + u_i \\]\nonde \\(u_i\\) √© o erro aleat√≥rio da \\(i\\)-√©sima observa√ß√£o.\nComo estimamos \\(\\beta_0\\) e \\(\\beta_1\\)?\nAp√≥s algum esfor√ßo alg√©brico, tem-se:\n\\[\\hat{\\beta}_0 = \\bar{y} - \\hat{\\beta}_1 \\bar{x}\\]\ne\n\\[\\hat{\\beta}_1 = \\frac{\\sum_{i=1}^{n} (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum_{i=1}^{n} (x_i - \\bar{x})^2}\\]\nOnde, \\(\\bar{x}\\) e \\(\\bar{y}\\) s√£o as m√©dias amostrais de \\(X_i\\) e \\(Y_i\\), respectivamente.\nOs estimadores \\(\\hat{\\beta}_0\\) e \\(\\hat{\\beta}_1\\) s√£o chamados de estimadores de M√≠nimos Quadrados Ordin√°rios (MQO).\nA ideia √© que os par√¢metros que estimamos, \\(\\hat{\\beta}_0\\) e \\(\\hat{\\beta}_1\\), s√£o os par√¢metros que minimizam a soma dos quadrados das diferen√ßas entre nossos \\(y_i\\) observados e seus valores preditos definidos como\n\\[y_i- \\hat{y}_i =y_i -  \\hat{\\beta}_0 + \\hat{\\beta}_1x_i=u_i\\]\nQueremos minimizar o quadrado dessa diferen√ßa. Vejamos graficamente:\n\n\n\nValores Ajustados e Res√≠duos de MQO\n\n\nAntes de passarmos para o prox√≠mo t√≥pico de RLS, cabe mencionar uma nota sobre terminologia: quando estimamos equa√ß√µes de RLS do tipo \\(y = \\beta_0 + \\beta_1 x + u\\), dizemos que ‚Äúrodamos a regress√£o de \\(y\\) sobre \\(x\\) !‚Äù\n\n14.3.1 Teste de Hip√≥tese sob um √önico Parametro\nAgora precisamos testar se nossa estimativa √© estatisticamente igual a zero ou se ela √© diferente de zero.\nH√° evid√™ncias que a nossa vari√°vel \\(X\\) afeta a nossa vari√°vel \\(Y\\) na popula√ß√£o?\nNa maior parte do tempo testamos hip√≥teses do tipo\n\\[H_0: {\\beta_j}=0\\] Na hip√≥tese principal testamos a situa√ß√£o que \\(X\\) n√£o afeta \\(Y\\) na popula√ß√£o sob an√°lise. Na hip√≥tese alternativa:\n\\[H_1: \\beta_j \\neq 0\\]\nTestamos a hip√≥tese que \\(X\\) afeta \\(Y\\) nessa popula√ß√£o. Graficamente temos a figura abaixo onde a m√©dia populacional √© igual a 0:\n\n\n\nTeste de hip√≥tese, Fonte:CUEMATH\n\n\nEstat√≠stica de Teste:\nEste √© um valor calculado a partir dos dados da amostra que √© usado para avaliar a probabilidade de observar tal valor se a hip√≥tese nula fosse verdadeira (\\(H_0: {\\beta_j}=0\\)). Ele que vai dizer se estamos na √°rea amarela ou azul da figura acima.\n\n14.3.1.1 Valor-p:\nO valor-p √© a probabilidade de observar uma estat√≠stica de teste t√£o extrema quanto, ou mais extrema do que, aquela calculada a partir dos dados da amostra, sob a suposi√ß√£o de que a hip√≥tese nula seja verdadeira. Em outras palavras, mede qu√£o prov√°vel √© obter os resultados observados se a hip√≥tese nula for correta.\nInterpreta√ß√£o: Um valor-p pequeno (tipicamente menor que um n√≠vel de signific√¢ncia predefinido, comumente 0,05) sugere que os dados observados s√£o improv√°veis de ter ocorrido se a hip√≥tese nula fosse verdadeira. Portanto, fornece evid√™ncias contra a hip√≥tese nula, e os pesquisadores podem rejeitar a hip√≥tese nula em favor da hip√≥tese alternativa. Por outro lado, um valor-p grande indica que os dados observados s√£o consistentes com a hip√≥tese nula, e as evid√™ncias evid√™ncias s√£o insuficientes para rejeit√°-la.\n\n\n\n14.3.2 Aplica√ß√£o - Estimando uma Regress√£o Linear Simples\nVamos utilizar aqui o nosso banco de dados anterior sobre feminic√≠dio. √â um banco com poucas obsera√ß√µes e possui fim did√°tco, apesar de serem dados reais.\nUma quest√£o incial √© entender quem ser√° \\(Y\\) e quem ser√° \\(X\\). Estamos querendo entender a taxa de feminic√≠dio. A quest√£o √©, quais s√£o seus determinantes? Aqui precisamos de alguma teoria‚Ä¶mas por hora, vamos ter como hip√≥tese inicial que quanto maior a taxa de hom√≠c√≠dio (ou maior a viol√™ncia no estado) espera-se que em m√©dia a taxa de feminic√≠dio aumente:\n\\[Feminc_{tx} = \\beta_0 + \\beta_1 Homici_{tx} + u\\]\nApesar de parecer ‚Äúmuito complicado‚Äù na teoria, na pr√°tica o R estima uma RLS em segundos. A fun√ß√£o para estimar √© alm, ou linear model.\n\n### Aplica√ß√£o da RLS - M√©todo dos M√≠nimos Quadrados Ordin√°rios\n\n#carregando o pacote para ler arquivos em excel\nload(\"C:/Users/Alexandre_Nicolella/Aulas/FEA-RP/Jurimetria/jurimetria/final_fem_22.Rdata\")\n\n#Vamos chamar a partir de agora nosso banco de dados\ndados&lt;- final_fem_22 \n\n##Fun√ß√£o para rodar a regress√£o\nmodelo &lt;- lm(data = dados, feminic_tx ~ homic_tx)\n\n\n#Essa fun√ß√£o resume a regress√£o, ja testar a hip√≥tese sobre o coeficiente e da outras estatisticas que abordaremos a seguir.\nsummary(modelo)\n\n\nCall:\nlm(formula = feminic_tx ~ homic_tx, data = dados)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.28942 -0.30169  0.03482  0.30070  1.18192 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  1.14673    0.28607   4.009 0.000485 ***\nhomic_tx     0.10580    0.05503   1.923 0.065990 .  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.5882 on 25 degrees of freedom\nMultiple R-squared:  0.1288,    Adjusted R-squared:  0.09397 \nF-statistic: 3.697 on 1 and 25 DF,  p-value: 0.06599\n\n\n\n14.3.2.1 Entendendo os Resultados\n1. Res√≠duos (Residuals): apresenta a distribui√ß√£o dos res√≠duos, observa-se que a mediana dos res√≠duos est√° pr√≥xima a zero.\n2.Coeficientes Em seguida, abaixo tem-se Coefficients com 5 colunas.\nColuna 1: Nome da vari√°vel\nColuna 2: Coeficiente estimado \\(\\hat{\\beta_0}\\) o intercepto e \\(\\hat{\\beta_1}\\) do termo da vari√°vel homic√≠dio\nColuna 3: √â o desvio padr√£o da estimativas de \\(\\beta\\)\nColuna 4: √â a estatistica t utilizada para fazer o teste de hip√≥tese e neste caso, tem-se: \\[H_0:\\beta_0=0\\] \\[H_1:\\beta_0 \\neq 0\\] e \\[H_0:\\beta_1=0\\] \\[H_1:\\beta_1 \\neq 0\\]\nColuna 5: √â o p-valor, a probabilidade de encontrarmos valores mais extremos da estat√≠stica t. Os asteriscos indicam *** signicante a 0,1%; ** a 1%; * a 5%; e \\(.\\) a 10%.\nInterpretando o Coeficiente\nO coeficiente do intercepto nos diz que quando a taxa de homic√≠dio for 0, ainda existira uma taxa de feminic√≠dio de 1,14 pontos (\\(\\beta_0\\)), sendo significante a 0,1%. E cada 1 ponto de aumento na taxa de homic√≠dio, aumenta em 0,106 (\\(\\beta_1\\)) pontos a taxa de feminic√≠dio, significante a 10%.\n3. \\(R^2\\): Em seguida temos o \\(R^2\\) e \\(R^2\\) ajustado. Essas estat√≠sticas calculam quanto da vari√¢ncia da taxa de feminic√≠dio pode ser explicada pela vari√¢ncia da taxa de homic√≠dio. Quando est√£o pr√≥ximos a 1 explicam muito, quanto est√£o pr√≥ximos a 0 explicam pouco. No caso o nosso \\(R^2\\) ficou baixo e portanto boa parte da variabilidade do feminic√≠dio, n√£o foi explicada pela taxa de homic√≠dio.\n4. Esta√≠stica F: E por fim a estat√≠stica F mostra o grau de ajustamento do modelo. Se ela for significativa diz que o modelo √© bem ajustados aos dados. As vari√°veis explicativas inclu√≠das s√£o importantes para a explica√ß√£o da taxa de feminic√≠dio.Essa estat√≠stica testa a seguinte hip√≥tese.\n\\[H_0:\\beta_1=...=\\beta_k=0\\] contra\n\\[H_1: H_0\\text{ √© falsa}\\]\nVISUALMENTE\nAbaixo tem-se os dados utilizados e a nossa reta de regress√£o estimada acima. Veja como ela se ajusta a nuvem de pontos.\n\n# Ajustando a reta de regess√£o.\n plot(dados$homic_tx, dados$feminic_tx,\n     main = \"Taxa de Feminic√≠dio vs.Tx de homicidio\",\n     xlab = \"Taxa de Homicidio\",\n     ylab = \"Taxa de Feminic√≠dio\",\n     col = \"steelblue\",          # Cor dos pontos\n     pch = 16,              # Forma dos pontos (c√≠rculos s√≥lidos)\n     cex = 1.0,         # Tamanho dos pontos\n     abline(modelo, col = \"lightsalmon3\", lwd = 3))",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>14</span>¬† <span class='chapter-title'>Modelos Lineares</span>"
    ]
  },
  {
    "objectID": "lineares.html#caracteristicas-do-m√©todo-dos-m√≠nimos-quadrados-ordin√°rios-em-determinadas-amostras-de-dados",
    "href": "lineares.html#caracteristicas-do-m√©todo-dos-m√≠nimos-quadrados-ordin√°rios-em-determinadas-amostras-de-dados",
    "title": "14¬† Modelos Lineares",
    "section": "14.4 Caracteristicas do M√©todo dos M√≠nimos Quadrados Ordin√°rios em Determinadas Amostras de Dados",
    "text": "14.4 Caracteristicas do M√©todo dos M√≠nimos Quadrados Ordin√°rios em Determinadas Amostras de Dados\n\n14.4.1 Valores Estimados e Res√≠duos\nUma vez estimados \\(\\hat{\\beta}_0\\) e \\(\\hat{\\beta}_1\\) temos os valores ajustados ou tamb√©m denominados de valores preditos ou fitted values.\nPara uma observa√ß√£o qualquer \\(i\\), seu valor estimado √©:\n\\[\\hat{y}_i= \\hat{\\beta}_0 + \\hat{\\beta}_1x_i\\]\nTodos os valores \\(\\hat{y}\\) estar√£o sobre a reta de regress√£o.\nO res√≠duo, tal qual definido anteriormente, ser√° a diferen√ßa entre o valor ajustado \\(\\hat{y}\\) e o verdadeiro \\(y\\) em nosso banco de dados:\n\\[\\hat{u}_i = y_i - \\hat{y}_i\\]\nSe \\(\\hat{u_i} &gt; 0\\) a regress√£o subestima \\(y_i\\). Se \\(\\hat{u_i} &lt; 0\\) a reta superestima \\(y_i\\). O cen√°rio ideal √© quando \\(\\hat{u}_i= 0\\), algo que quase nunca acontece.\n\n##Obtendo os residuos da regress√£o\nresid &lt;- residuals(modelo)\n k &lt;- density(resid)\n  plot(k, xlab=\"Erro\",main=\"Densidade de Kernel para o erro\")\n  polygon(k, col=\"burlywood3\", border=\"burlywood4\")\n\n\n\n\n\n\n\n\n\n\n14.4.2 Propriedades Alg√©bricas do MQO\n\nA Soma dos Res√≠duos √© zero:\n\n\\[\\sum_{i=1}^{n} \\hat{u}_i = 0\\]\n\nsum(resid)\n\n[1] 1.387779e-16\n\n\n\nA covariancia amostral entre a variavel explicativa e os res√≠duos √© zero:\n\n\\[\\sum_{i=1}^{n} x_i \\hat{u}_i = 0\\]\n\n#obtendo a vari√°vel x\nx &lt;- dados$homic_tx\n\n#somando com os residuos\nsum(x*resid)\n\n[1] 8.326673e-17\n\n\n\nO ponto \\((\\bar{x},\\bar{y})\\) sempre estar√° sob a reta de regress√£o.\nA m√©dia dos valores estimados, \\(\\bar{\\hat{y}}\\) √© igual a m√©dia dos valores observados \\(\\bar{y}\\).\n\n\n#y dos dados \ny &lt;- dados$feminic_tx\nmean(y)\n\n[1] 1.651852\n\n#y estimado\ny_hat &lt;- fitted.values(modelo)\nmean(y_hat)\n\n[1] 1.651852\n\nmean(y)==mean(y_hat)\n\n[1] TRUE\n\n\n\nNote que as estimatvas de MQO decomp√µe \\(y\\) em 2 partes: 1) os valores ajustados \\(\\hat{y}\\) e os res√≠duos \\(\\hat{u}\\).\nOs valores de \\(\\hat{y}\\) e \\(\\hat{u}\\) s√£o n√£o correlacionados na amostra!\n\n\n\n14.4.3 Qualidade do Ajuste\nNesta se√ß√£o vamos responder a seguinte quest√£o: ‚ÄúQu√£o bem \\(x\\) explica \\(y\\) ?‚Äù\nConsidere as seguintes defini√ß√µes\nSoma dos Quadrado Totais (SQT):\n\\[\\text{SQT} = \\sum_{i=1}^{n} (y_i - \\bar{y})^2\\]\n\n# Calcular a m√©dia da vari√°vel dependente (feminic_tx)\nmedia_feminic_tx &lt;- mean(dados$feminic_tx)\n\n# Calcular a Soma dos Quadrados Totais (SQT)\nsqt &lt;- sum((dados$feminic_tx - media_feminic_tx)^2)\nsqt\n\n[1] 9.927407\n\n\nSoma dos Quadrados Explicados (SQE):\n\\[\\text{SQE} = \\sum_{i=1}^{n} (\\hat{y}_i - \\bar{y})^2\\]\n\n# Calcular a Soma dos Quadrados Explicados (SQE)\nsqe &lt;- sum((y_hat - media_feminic_tx)^2)\nsqe\n\n[1] 1.27879\n\n\nSoma dos Quadrados dos Res√≠duos (SQR):\n\\[\\text{SQR} = \\sum_{i=1}^{n} \\hat{u}_i^2\\]\n\nresiduos_quadrados &lt;- residuals(modelo)^2\nsqr &lt;- sum(residuos_quadrados)\nsqr\n\n[1] 8.648617\n\n\nO resultado mais importante √© o seguinte:\n\\[SQT =  SQE + SQR\\]\n√â apartir dessa iguadade que podemos mostrar algo sobre o ajuste dos MQO.\nD√≠vidindo ambos os lados por \\(SQT\\) teremos\n\\[1 = \\frac{\\text{SQE}}{\\text{SQT}}  + \\frac{\\text{SQR}}{\\text{SQT}}\\]\nRearranjando os termos\n\\[R^2 = \\frac{\\text{SQE}}{\\text{SQT}} = 1 - \\frac{\\text{SQR}}{\\text{SQT}}\\]\n\n#r-quadrado do modelo\nr_quadrado &lt;- 1 - (sqr/sqt)\nr_quadrado\n\n[1] 0.1288141\n\n\nNovamente, o \\(R^2\\) √© a porcentagem da varia√ß√£o de y que √© explicada por \\(x\\). O valor de \\(R^2\\) sempre estar√° na RLS entre \\(0\\) e \\(1\\).",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>14</span>¬† <span class='chapter-title'>Modelos Lineares</span>"
    ]
  },
  {
    "objectID": "lineares.html#unidade-de-medida-e-forma-funcional",
    "href": "lineares.html#unidade-de-medida-e-forma-funcional",
    "title": "14¬† Modelos Lineares",
    "section": "14.5 Unidade de Medida e Forma Funcional",
    "text": "14.5 Unidade de Medida e Forma Funcional\n\n14.5.1 Unidade de Medida\nVejamos o efeito de mudan√ßas na unidade de medida das vari√°veis na nossa regress√£o.\n1. Se a vari√°vel dependente (\\(Y\\)) √© multiplicada por uma constante \\(c\\), ent√£o as estimativas do intercepto e da inclina√ß√£o tamb√©m ser√£o multiplicadas por \\(c\\). Vamos multiplicar por 10 e ver o que acontece:\n\nlibrary(dplyr)\ndados &lt;- dados |&gt; \n  mutate(feminic_tx10 =feminic_tx*10 )\n\nmodelo1 &lt;- lm(data = dados, feminic_tx10 ~ homic_tx)\n\nsummary(modelo)$coefficients\n\n            Estimate Std. Error  t value     Pr(&gt;|t|)\n(Intercept) 1.146731 0.28607061 4.008560 0.0004846694\nhomic_tx    0.105805 0.05503129 1.922633 0.0659903845\n\nsummary(modelo1)$coefficients\n\n            Estimate Std. Error  t value     Pr(&gt;|t|)\n(Intercept) 11.46731  2.8607061 4.008560 0.0004846694\nhomic_tx     1.05805  0.5503129 1.922633 0.0659903845\n\n\n2. Se a vari√°vel explicativa (\\(X\\)) √© multiplicada por uma contante \\(c\\), ent√£o o coeficiente de inclina√ß√£o ser√° d√≠vido por \\(c\\). Nada acontece com o intercepto. Vamos multiplicar agora a taxa de homic√≠dio por 10\n\ndados &lt;- dados |&gt; \n  mutate(homic_tx10 =homic_tx*10 )\n\nmodelo2 &lt;- lm(data = dados, feminic_tx ~ homic_tx10)\n\nsummary(modelo)$coefficients\n\n            Estimate Std. Error  t value     Pr(&gt;|t|)\n(Intercept) 1.146731 0.28607061 4.008560 0.0004846694\nhomic_tx    0.105805 0.05503129 1.922633 0.0659903845\n\nsummary(modelo2)$coefficients\n\n             Estimate  Std. Error  t value     Pr(&gt;|t|)\n(Intercept) 1.1467311 0.286070605 4.008560 0.0004846694\nhomic_tx10  0.0105805 0.005503129 1.922633 0.0659903845\n\n\n\nSe a vari√°vel explicativa (\\(X\\)) √© dividida por uma constante \\(c\\), ent√£o o coeficiente de inclina√ß√£o √© multiplicado por \\(c\\). Nada acontece com a constante.\n\n\ndados &lt;- dados |&gt; \n  mutate(homic_tx_10 =homic_tx/10 )\n\nmodelo3 &lt;- lm(data = dados, feminic_tx ~ homic_tx_10)\n\nsummary(modelo)$coefficients\n\n            Estimate Std. Error  t value     Pr(&gt;|t|)\n(Intercept) 1.146731 0.28607061 4.008560 0.0004846694\nhomic_tx    0.105805 0.05503129 1.922633 0.0659903845\n\nsummary(modelo3)$coefficients\n\n            Estimate Std. Error  t value     Pr(&gt;|t|)\n(Intercept) 1.146731  0.2860706 4.008560 0.0004846694\nhomic_tx_10 1.058050  0.5503129 1.922633 0.0659903845\n\n\n\n\n\n\n\n\nImportante\n\n\n\nO \\(R^2\\) e os testes de hip√≥tese n√£o depende das unidades de nossas vari√°veis.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>14</span>¬† <span class='chapter-title'>Modelos Lineares</span>"
    ]
  },
  {
    "objectID": "lineares.html#incorporando-n√£o-linearidades-nas-vari√°veis",
    "href": "lineares.html#incorporando-n√£o-linearidades-nas-vari√°veis",
    "title": "14¬† Modelos Lineares",
    "section": "14.6 Incorporando n√£o linearidades (nas vari√°veis!)",
    "text": "14.6 Incorporando n√£o linearidades (nas vari√°veis!)\nVamos agora incorporar a n√£o linearidade nas vari√°veis e ver como fica a sua interpreta√ß√£o. Abaixo tem-se uma tabela para interpretar os coeficientes e ser√° explicada nos exemplos que vir√£o a seguir.\n\n\n\n\n\n\n\n\n\nModelo\nDependente\nExplicativa\nInterpreta√ß√£o de \\(\\beta_1\\)\n\n\n\n\nNivel-n√≠vel\n\\(y\\)\n\\(x\\)\n\\(\\beta_1 \\Delta x\\)\n\n\nN√≠vel-Log\n\\(y\\)\n\\(ln(x)\\)\n\\((\\beta_1/100)\\%\\) \\(\\Delta x\\)\n\n\nLog-N√≠vel\n\\(ln(y)\\)\n\\(x\\)\n\\(\\% \\Delta y = (100 \\beta_1) \\Delta x\\)\n\n\nLog_log\n\\(ln(y)\\)\n\\(ln(x)\\)\n\\(\\% \\Delta y = \\beta_1\\% \\Delta x\\)\n\n\n\n\n14.6.1 Modelo N√≠vel-N√≠vel\nEsse √© o modelo que fizemos anteriormente e nos diz que uma varia√ß√£o absoluta em \\(X\\) ter√° um efeito de \\(\\beta\\) em Y.\n\nmodelo_nn&lt;- lm(data=dados, dados$feminic_tx ~ dados$homic_tx)\nsummary(modelo_nn)$coefficients\n\n               Estimate Std. Error  t value     Pr(&gt;|t|)\n(Intercept)    1.146731 0.28607061 4.008560 0.0004846694\ndados$homic_tx 0.105805 0.05503129 1.922633 0.0659903845\n\n\nO aumento de uma unidade na taxa de homic√≠dio aumenta em 0,1058 a taxa de feminic√≠dio.\n\n\n14.6.2 Modelo N√≠vel-log\nPrimeiramente vamos criar as vari√°veis em ln:\n\ndados$Lnfeminic_tx &lt;- log(dados$feminic_tx)\ndados$Lnhomic_tx &lt;- log(dados$homic_tx)\n\nO modelo N√≠vel-Log consider√° \\(Y\\) no n√≠vel e \\(X\\) no log. As varia√ß√µes relativas de \\(X\\) implicam em varia√ß√µes absolutas constantes em \\(Y\\).\n\nmodelo_nl&lt;- lm(data=dados, dados$feminic_tx ~ dados$Lnhomic_tx)\nsummary(modelo_nl)$coefficients\n\n                  Estimate Std. Error  t value   Pr(&gt;|t|)\n(Intercept)      0.7246404  0.4453288 1.627203 0.11623380\ndados$Lnhomic_tx 0.6238311  0.2900917 2.150462 0.04138118\n\n\nA varia√ß√£o relativa de 1% na taxa de homic√≠dio (\\(X\\)), aumenta a taxa de feminic√≠dio em 0,00623 \\((\\beta_1/100)\\)\n\n\n14.6.3 Modelo Log-N√≠vel\nNesse modelo \\(Y\\) est√° em log e \\(X\\) em n√≠vel. Varia√ß√µes absolutas em \\(X\\) implicam em varia√ß√µes exponenciais de \\(Y\\).\n\nmodelo_ln&lt;- lm(data=dados, dados$Lnfeminic_tx~ dados$homic_tx)\nsummary(modelo_ln)$coefficients\n\n                 Estimate Std. Error  t value  Pr(&gt;|t|)\n(Intercept)    0.21824231 0.18282873 1.193698 0.2438007\ndados$homic_tx 0.04525001 0.03517069 1.286583 0.2100267\n\n\nPara cada incremento adicional da taxa de homic√≠dio, tem-se um incremento de 4,5% na taxa de feminic√≠dio \\(\\% \\Delta y = (100 \\beta_1) \\Delta x\\).\nmodelo_ll &lt;- lm(data=dados, dados\\(Lnfeminic_tx~ dados\\)Lnhomic_tx) summary(modelo_ll)$coefficients\n\n\n14.6.4 Modelo Log-Log\nNesse modelo tanto \\(X\\) como \\(Y\\) est√£o em log. Varia√ß√µes relativas em \\(X\\) implicam em varia√ß√µes relativas em \\(Y\\)\n\nmodelo_ll &lt;- lm(data=dados, dados$Lnfeminic_tx~ dados$Lnhomic_tx)\nsummary(modelo_ll)$coefficients\n\n                     Estimate Std. Error     t value  Pr(&gt;|t|)\n(Intercept)      0.0009590929   0.284865 0.003366832 0.9973404\ndados$Lnhomic_tx 0.2915325798   0.185564 1.571062163 0.1287399\n\n\nUm aumento de 1% na taxa de homic√≠dios aumenta em 0,29% a taxa de feminic√≠dio nos estados brasileiros.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>14</span>¬† <span class='chapter-title'>Modelos Lineares</span>"
    ]
  },
  {
    "objectID": "lineares.html#regress√£o-linear-m√∫ltipla-rlm",
    "href": "lineares.html#regress√£o-linear-m√∫ltipla-rlm",
    "title": "14¬† Modelos Lineares",
    "section": "14.7 Regress√£o Linear M√∫ltipla (RLM)",
    "text": "14.7 Regress√£o Linear M√∫ltipla (RLM)\nA RLM √© uma extens√£o natural da RLS. Entretanto, ao inv√©s de termos apenas uma vari√°vel explicativa podemos ter \\(k\\) vari√°veis dependentes\n\\[y = \\beta_0 + \\beta_1 x_1 + \\beta_2 x_2 + \\beta_3 x_3 + \\ldots + \\beta_k x_k + u\\] A h√≠p√≥tese fundamental √© a de que:\n\\[E(u|x_1, . . . ,x_k) = 0\\]\nProblemas que fa√ßam com que um dos \\(x_1, ...., x_k\\) ser correlacionado com \\(u\\), invalida a hip√≥tese acima. Tal hip√≥tese implica em n√£o vi√©s do MQO.\n\n14.7.1 Exemplos de Regress√£o Multipla no Contexto Jur√≠dico\nDetermina√ß√£o de Fatores que Afetam o Valor de Indeniza√ß√µes:\n\nVari√°vel Dependente (\\(Y\\)): Valor da Indeniza√ß√£o.\nVari√°veis Independentes (\\(X\\)): Idade da V√≠tima, Gravidade do Dano, Jurisdi√ß√£o.\nObjetivo: Analisar como a idade da v√≠tima, a gravidade do dano e a jurisdi√ß√£o influenciam o valor das indeniza√ß√µes concedidas\n\n\\[Indeniza√ß√£o = \\beta_0 + \\beta_1 idade+ \\beta_2 Gravidade + \\beta_2 Jurisdis√ß√£o + u\\]\nAn√°lise de Vari√°veis que Influenciam Taxas de Condena√ß√£o em Casos Criminais:\n\nVari√°vel Dependente (\\(Y\\)): Taxa de Condena√ß√£o.\nVari√°veis Independentes(\\(X\\)): Idade do R√©u, Tipo de Crime, Local do Julgamento.\nObjetivo: Investigar como a idade do r√©u, o tipo de crime e o local do julgamento afetam a probabilidade de condena√ß√£o.\n\n\\[Tx.Condena√ß√£o = \\beta_0 + \\beta_1  idade  +  \\beta_2 Local  + \\beta_3  crime + u\\]\nAn√°lise de Fatores que Influenciam a Taxa de Feminic√≠dio:\n\nVari√°vel Dependente (\\(Y\\)): Taxa de Feminic√≠dio por 100.000 mulheres\nVari√°veis Independentes (\\(X\\)): Taxa de Desemprego, √çndice de Educa√ß√£o, Presen√ßa de Pol√≠ticas de Prote√ß√£o √† Mulher.\nObjetivo: Investigar como o desemprego, o n√≠vel de educa√ß√£o e a exist√™ncia de pol√≠ticas de prote√ß√£o √† mulher est√£o relacionados √† taxa de feminic√≠dio em diferentes regi√µes.\n\n\\[Tx.feminicidio = \\beta_0 + \\beta_1 desemprego + \\beta_2 educ + \\beta_3 pol√≠tica + u \\]\n\n\n14.7.2 A Interpreta√ß√£o da Equa√ß√£o de Regress√£o de MQO\nTal qual no modelo de RLS, temos que:\n\\[\\Delta y = \\beta_1 \\Delta x_1 + \\beta_2 \\Delta x_2 + ...+\\beta_k \\Delta x_k\\]\nO coeficiente \\(\\beta_j\\), com \\(j=1,...k\\), mede o efeito do incremento de uma unidade de \\(x_j\\) em \\(y\\). Isso continua com a mesma interpreta√ß√£o para modelos que usam o log.\nSuponha que estejamos interessados no efeito de \\(x_1\\). Podemos fazer o seguinte exerc√≠cio: Tudo o mais constante qual o efeito de \\(x_1\\) em \\(y\\):\n\\[\\frac{\\Delta y}{\\Delta x} = \\beta_1 \\]\nManter outros fatores fixos permite o cientista social, ‚Äúmimetizar‚Äù um experimento, o qual √© muito utilizado nas Ci√™ncias Naturais. Obviamente, isso n√£o √© t√£o simples assim. Entretanto, manter outros fatores fixos, e supondo que \\[E(u|x_1, . . . ,x_k) = 0\\] , nos aprox√≠ma de afirma√ß√µes de cunho causal.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>14</span>¬† <span class='chapter-title'>Modelos Lineares</span>"
    ]
  },
  {
    "objectID": "lineares.html#estima√ß√£o-dos-k-parametros-na-rlm",
    "href": "lineares.html#estima√ß√£o-dos-k-parametros-na-rlm",
    "title": "14¬† Modelos Lineares",
    "section": "14.8 Estima√ß√£o dos k parametros na RLM",
    "text": "14.8 Estima√ß√£o dos k parametros na RLM\n\n14.8.1 Estimadores de MQO\nA mec√¢nica para conseguirmos estimativas de \\(\\beta_j\\), fica uma pouco mais complicada. Felizmente, os softwares, tais como o R, fornecem essas estimativas com muita facilidade. N√£o obstante, conv√™m apresentar uma abordagem para o c√°lculo desses par√¢metros. Utilizaremos √°lgebra de matrizes para mostrar um ‚Äúalgoritmo‚Äù para calcular esses \\(\\beta_j\\). Em verdade, esse √© o algoritmo utilizado pela fun√ß√£o lm() do R no computo dos estimadores.\nConsidere o modelo para a \\(i\\)-√©sima observa√ß√£o\n\\[y_i = \\beta_0 + \\beta_1 x_{i1} + \\beta_{2} x_{i2} + \\beta_{3} x_{i3} + \\ldots + \\beta_k x_{ik} + u\\]\ncomo temos \\(n\\) observa√ß√µes (tamanho de nossa amostra), podemos organizar esses valores em vetores e matrizes.\nAssim, representamos o modelo de RLM da seguinte maneira:\n\\[\\mathbf{Y} = \\mathbf{X} \\boldsymbol{\\beta} + \\mathbf{u}\\]\nQueremos encontrar um estimador de \\(\\boldsymbol{\\beta}\\), que chamaremos de \\(\\boldsymbol{\\hat{\\beta}}\\). Esse estimador sera dado por:\n\\[\\hat{\\boldsymbol{\\beta}} = (\\mathbf{X}^T \\mathbf{X})^{-1} \\mathbf{X}^T \\mathbf{y}\\]\nOnde \\(\\mathbf{X}^T\\) √© a matriz transposta de \\(\\mathbf{X}\\), e \\((\\mathbf{X}^T \\mathbf{X})^{-1}\\) √© a matriz inversa da seguinte multiplica√ß√£o de matrizes, \\((\\mathbf{X}^T \\mathbf{X})\\)\nEsse vetor de estimativas ir√° nos fornecer os valores para os \\(\\beta_j\\), com \\(j=1,...,k\\).\n\n\n14.8.2 Estimativas de MQO\nVamos analisar o efeito da taxa de homic√≠dio e da renda per capita sobre a taxa de feminic√≠dio. Ou seja:\n\\[Feminic_i = \\beta_0 + \\beta_1 Homic_{i} + \\beta_{2} Rendapc_i  + u\\]\n\n### Estimando uma regress√£o Linear Multipla\n\nrlm &lt;- lm(data = dados, feminic_tx ~ homic_tx + rendapc)\n\nsummary(rlm)\n\n\nCall:\nlm(formula = feminic_tx ~ homic_tx + rendapc, data = dados)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.32561 -0.31655 -0.00645  0.31188  1.11840 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)  \n(Intercept) 0.8852186  0.5368738   1.649    0.112  \nhomic_tx    0.1167346  0.0588882   1.982    0.059 .\nrendapc     0.0001447  0.0002499   0.579    0.568  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.5962 on 24 degrees of freedom\nMultiple R-squared:  0.1408,    Adjusted R-squared:  0.06921 \nF-statistic: 1.967 on 2 and 24 DF,  p-value: 0.1618\n\n\nA leitura dos resultados √© an√°loga ao que j√° fizemos anteriormente. O aumento de uma unidade na taxa de homic√≠dio aumenta em 0,11 a taxa de feminic√≠dio e √© significante a 10%. Veja o p-valor de 0.059. Entretanto, n√£o h√° evid√™ncias de que a renda pc tem efeito sobre a taxa de feminic√≠dio.\nAssim, estados mais violentos tendem a ter mais feminic√≠dios. Entretanto, estados mais pobres e mais ricos possuem taxas similares de feminic√≠dio.\n\n\n14.8.3 Qualidade do Ajuste na Regress√£o Linear Multipla\nUm fato importante sobre \\(R^2\\) √© que ele nunca diminui ao incluirmos vari√°veis no modelo. Isso decorre de propriedades alg√©bricas desse indicador. Em nosso exemplo:\n\nModelo somente com Homic√≠dio: \\(R^2=0,12\\)\nModelo com Homic√≠dio e Renda: \\(R^2=0,14\\)\n\nVeja que o \\(R^2\\) aumentou ao incluir a renda pc.\nPor isso, os softwares geralmente reportam uma outra estat√≠stica de ajuste o R-quadrado ajustado, \\(\\bar{R}^2\\):\n\\[\\bar{R}^2 = 1 - \\frac{(1 - R^2)(n - 1)}{n - k - 1}\\]\nO \\(\\bar{R}^2\\), tal como expresso acima conta com a presen√ßa do \\(R^2\\) original, mas note que, no denominador estamos dividindo por \\(n-k-1\\), onde \\(n\\) √© o tamanho da amostra em m√£os, e \\(k-1\\) se referem ao fato de termos \\(k\\) vari√°veis explicativas e uma constante. Portanto, o \\(\\bar{R}^2\\), imp√µes uma penalidade √† inclus√£o de vari√°veis independentes em um modelo de regress√£o. No nosso modelo:\n\nModelo somente com Homic√≠dio: \\(R^2=0,12\\) e \\(\\bar{R}^2= 0,094\\)\nModelo com Homic√≠dio e Renda: \\(R^2=0,14\\) e \\(\\bar{R}^2= 0,069\\)\n\nPodemos notar que a inclus√£o da renda pc contribui muito pouco para a explica√ß√£o do modelo mas prejudicou as estimativas (menor grau de liberdade). Dessa forma observa-se que o \\(R^2_{ajust}\\) ou \\(\\bar{R}^2\\) ficou menor.\nN√£o obstante, cabe destacar que um \\(R^2\\) baixo n√£o √© uma evidencia definitiva contra nosso modelo. Em ci√™ncias sociais √© comum verificarmos \\(R^2\\) relatvamente pequenos. Isso significa que, embora coletivamente as vari√°veis explicativas n√£o expliquem muito das varia√ß√µes de \\(Y\\), √© poss√≠vel que as estimativas de MQO sejam efeitos parciais confi√°veis- tudo o mais constante - de cada \\(X_j\\) sobre \\(Y\\).\n\n\n14.8.4 Uso de Vari√°veis Qualitativas na An√°lise de RLM\nO uso de vari√°veis bin√°rias √© a alternativa para utilizarmos vari√°veis qualitativas (discretas ou categ√≥ricas) no modelo de regress√£o. Dessa forma, vari√°veis que possuem categorias (homem/mulher; regi√µes, t√≠po de homic√≠dio). Considere os exemplos mencionados anteriormente.\nDetermina√ß√£o de Fatores que Afetam o Valor de Indeniza√ß√µes:\n\nVari√°vel Dependente \\((Y)\\): Valor da Indeniza√ß√£o.\nVari√°veis Independentes \\((X)\\): Idade da V√≠tima, Gravidade do Dano, Jurisdi√ß√£o.\nObjetivo: Analisar como a idade da v√≠tima, a gravidade do dano e a jurisdi√ß√£o influenciam o valor das indeniza√ß√µes concedidas\n\n\\[Indeniza√ß√£o = \\beta_0 + \\beta_1 idade+ \\beta_2 Gravidade + \\beta_2 Jurisdis√ß√£o + u\\]\nAn√°lise de Vari√°veis que Influenciam Taxas de Condena√ß√£o em Casos Criminais:\n\nVari√°vel Dependente \\((Y)\\): Taxa de Condena√ß√£o.\nVari√°veis Independentes \\((X)\\): Idade do R√©u, Tipo de Crime, Local do Julgamento.\nObjetivo: Investigar como a idade do r√©u, o tipo de crime e o local do julgamento afetam a probabilidade de condena√ß√£o.\n\n\\[Tx.Condena√ß√£o = \\beta_0 + \\beta_1  idade  +  \\beta_2 Local  + \\beta_3  crime + u\\]\nAn√°lise de Fatores que Influenciam a Taxa de Feminic√≠dio:\n\nVari√°vel Dependente \\((Y)\\): Taxa de Feminic√≠dio por 100.000 mulheres.\nVari√°veis Independentes \\((X)\\): Taxa de Desemprego, √çndice de Educa√ß√£o, Presen√ßa de Pol√≠ticas de Prote√ß√£o √† Mulher.\nObjetivo: Investigar como o desemprego, o n√≠vel de educa√ß√£o e a exist√™ncia de pol√≠ticas de prote√ß√£o √† mulher est√£o relacionados √† taxa de feminic√≠dio em diferentes regi√µes.\n\n\\[Tx.feminicidio = \\beta_0 + \\beta_1 desemprego + \\beta_2 educ + \\beta_3 pol√≠tica + u \\]\nEm todos esses exemplos temos o que denominamos de vari√°veis qualitativas. No primeiro exemplo, gravidade e jurisdi√ß√£o n√£o s√£o quantificaveis. No segundo exemplo, o tipo de crime, e a localidade. Por fim, no √∫ltimo exemplo, a vari√°vel que indica ou n√£o a presen√ßa de uma pol√≠tica p√∫blica de prote√ß√£o a mulher tamb√©m √© qualitativa.\nFelizmente, isso n√£o traz problemas adcionais a estima√ß√£o de MQO. Pelo menos quando tais vari√°veis aparecem como vari√°veis explicativas. Mais a frente veremos o que acontece quando a vari√°vel dependente √© do tipo qualitativa.\nDuas coisas mudam quando temos as vari√°veis qualitativas como regressores:\n\nEm primeiro lugar temos que organizar essas informa√ß√µes no banco de dados de modo coerente.\nEm segundo lugar, a introdu√ß√£o de vari√°veis qualitativas muda a interpreta√ß√£o dos resultados.\n\nFatores qualitativos geralmente aparecem na forma de informa√ß√µes bin√°rias, tamb√©m denominadas,dummy.\n\n\n\n\n\n\nVari√°vel Bin√°ria ou Dummy:\n\n\n\n√â uma vari√°vel que assume o valor 1 se a ‚Äúcondi√ß√£o occorre‚Äù e 0 caso o contr√°rio.\n\n\nExemplos:\nO crime de feminic√≠dio ocorreu na regi√£o central? * Vari√°vel Bin√°ria: crime_centro (exemplo de nome) * se sim, ela recebe o valor 1, * se n√£o ocorreu a vari√°vel recebe o valor 0.\nNesse caso teremos uma coluna em nosso banco de dados denominada crime_centro, na qual a linha recebe o valor 1 caso o crime tenha ocorrido no centro e 0 caso o contr√°rio.\nO crime foi considerado grave?\n\nVari√°vel Bin√°ria: cri_grav (exemplo de nome)\nSe sim, recebe o valor 1,\ncaso contr√°riorecebe o valor 0.\n\nOutras bin√°rias‚Ä¶.\n\n1 se mulher e 0 se for homem.\n1 se for autodeclarado n√£o-branco e 0 se for branco\n1 se trabalha e 0 se n√£o trabalha\n1 se feminic√≠dio e 0 se n√£o for feminic√≠dio.\n\nUtilizar 1 ou 0 √©, de fato, um criterio arbitr√°rio, mas essa escolha reside justamente na vantagem de se capturar informa√ß√µes importantes que tornam a interpreta√ß√£o dos resultados mais simples.\nAs observa√ß√µes que receberam 1 como valor ser√£o comparadas com aquelas observa√ß√µes que ficaram com o valor 0. Essas observa√ß√µes seriam nosso ‚Äúgrupo de compara√ß√£o/grupo base‚Äù.\n\n14.8.4.1 Uma √∫nica Vari√°vel Dummy Independente\nA forma mais simples de incorporar uma vari√°vel qualitativa e simplismente adicionarmos a vari√°vel bin√°ria na equa√ß√£o de regress√£o.\nConsidere o exemplo pr√°tico retirado do livro do Wooldridge. Queremos entender os determinantes dos sal√°rios. Obviamente, o exemplo √© bastante simples, mas ser√° √∫til para avaliarmos a quest√£o.\n\\[salario_h = \\beta_0 + \\delta_0 feminino + \\beta_1 educ + \\beta_3 exper + \\beta_4perm + u \\] Nesse exemplo, estamos tentando entender os quais os fatores que afetam os sal√°rios dos indiv√≠duos. O sal√°rio pode ser explicado pela educa√ß√£o, exper√™ncia, tempo no cargo e pelo fato de ser mulher. A vari√°vel feminino assume o valor 1, se o individuo for do sexo feminino e 0, caso o contr√°rio. Na equa√ß√£o \\(\\delta_0\\) mede a diferen√ßa no sal√°rio entre homems e mulheres, dado os mesmos anos de estudos, experi√™ncia e tempo no cargo, e evidentemente o mesmo \\(u\\).\n\nif(!require(wooldridge)){\n    install.packages(\"wooldridge\")\n    library(wooldridge)}\n\ndata(wage1, package= \"wooldridge\")\n\nwage_f&lt;-lm(wage ~ female+educ+exper+tenure, data=wage1)\nsummary(wage_f)\n\n\nCall:\nlm(formula = wage ~ female + educ + exper + tenure, data = wage1)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-7.7675 -1.8080 -0.4229  1.0467 14.0075 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) -1.56794    0.72455  -2.164   0.0309 *  \nfemale      -1.81085    0.26483  -6.838 2.26e-11 ***\neduc         0.57150    0.04934  11.584  &lt; 2e-16 ***\nexper        0.02540    0.01157   2.195   0.0286 *  \ntenure       0.14101    0.02116   6.663 6.83e-11 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.958 on 521 degrees of freedom\nMultiple R-squared:  0.3635,    Adjusted R-squared:  0.3587 \nF-statistic:  74.4 on 4 and 521 DF,  p-value: &lt; 2.2e-16\n\n\nO coeficiente estimado para a bin√°ria que identifica mulheres foi de -1,81 e significativa a 1%. Isso indica que em m√©dia, uma mulher ganha menos US$ 1,81 por hora do que um homem com a mesma educa√ß√£o, experi√™ncia e tempo no cargo.\nVeja a figura abaixo ela mostra o efeito da bin√°ria feminina. Note que para um mesmo n√≠vel de escolaridade, o sal√°rio do homem √© maior do que o sal√°rio da mulher. A dummy ‚Äúdesloca‚Äù o intercepto.\n\n\n\nVari√°veis bin√°rias graficamente, fonte: SEmantic Scholar\n\n\nPodemos utilizar a bin√°ria para ver o efeito da experi√™ncia para homens e para mulheres. Podemos fazer isso criando uma vari√°vel que √© a multiplica√ß√£o entre experi√™ncia e feminino. Vejamos:\n\nwage1$exp_f&lt;-wage1$exper*wage1$female\n\n\nwage_f_2&lt;-lm(wage ~ educ+female+ exper+exp_f+tenure, data=wage1)\nsummary(wage_f_2)\n\n\nCall:\nlm(formula = wage ~ educ + female + exper + exp_f + tenure, data = wage1)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-8.3215 -1.6447 -0.4678  1.0431 13.8889 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) -2.27347    0.75952  -2.993 0.002891 ** \neduc         0.58954    0.04938  11.938  &lt; 2e-16 ***\nfemale      -0.87766    0.41570  -2.111 0.035223 *  \nexper        0.05720    0.01589   3.601 0.000348 ***\nexp_f       -0.05635    0.01944  -2.898 0.003908 ** \ntenure       0.12810    0.02148   5.964 4.56e-09 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.937 on 520 degrees of freedom\nMultiple R-squared:  0.3737,    Adjusted R-squared:  0.3676 \nF-statistic: 62.04 on 5 and 520 DF,  p-value: &lt; 2.2e-16\n\nmean(wage1$wage)\n\n[1] 5.896103\n\n\nNesse novo modelo temos agora a bin√°ria de mulher, female, que mostra que o fato de ser mulher diminui o sal√°rio em -US$0,88. Veja que a m√©dia de sal√°rio √© de US$ 5,9. A queda representa 15% a menos em rela√ß√£o ao homem.\nCom rela√ß√£o a multiplica√ß√£o pela experi√™ncia, podemos assim analisar. Como a vari√°vel √© 0 para homem, o efeito da experi√™ncia para os homens √© o pr√≥prio coeficiente, exper. Para cada ano a mais de experi√™ncia o sal√°rio do homem aumenta em US$ 0,057. Para as mulheres √© a soma do coeficiente, exper + exp_f.¬†Para cada ao a mais da exper√™ncia da mulher o mercado paga US$0,001 . Isso est√° representado no gr√°fico abaixo.\n\n\n\nVari√°veis bin√°rias multiplicativas graficamente, fonte: University of Washington\n\n\n\n\n\n14.8.5 O uso de Dummies para categorias multiplas e Intera√ß√£o entre a dummy e a vari√°vel dependente\nConsidere a equa√ß√£o abaixo considerando o mesmo banco de dados anterior:\n\\[log(salarioh) = \\beta_0 + \\beta_1  hsolteiro  +  \\beta_2 mcasadas  + \\beta_3 msolteiras + \\beta_4educ + \\beta_5exper + \\beta_6exper^2 + u\\] Agora vamos dividir entre homens e mulheres, casadas(os) solteiras(os). Note que definimos uma dummy para cada grupo e o grupo de compara√ß√£o utilizaremos o grupo de homens casados.\nAs estimativas das dummies acima ir√£o captar para cada grupo a diferen√ßa proporcional nos salarios-horas relativamente aos homens casados.\n\n###Aplica√ß√£o de RLM multiplas dummies\n\ndata(wage1, package=\"wooldridge\")\n\n\n### criando as vari√°veis\nlibrary(\"dplyr\")\n\nwage1 &lt;- wage1 %&gt;%\n  mutate(hcasado = ifelse(female==0 & married==1, 1, 0))\n\nwage1 &lt;- wage1 %&gt;%\n  mutate(mcasada = ifelse(female==1 & married==1, 1, 0))\n\nwage1 &lt;- wage1 %&gt;%\n  mutate(msolteira = ifelse(female==1 & married==0, 1, 0))\n\nwage1 &lt;- wage1 %&gt;%\n  mutate(hsolteiro = ifelse(female==0 & married==0, 1, 0))\n\n\nstatus_civ &lt;- lm(log(wage)~  hsolteiro + msolteira + mcasada + educ+ exper  +I(exper^2)+tenure, data=wage1)\n\nsummary(status_civ)\n\n\nCall:\nlm(formula = log(wage) ~ hsolteiro + msolteira + mcasada + educ + \n    exper + I(exper^2) + tenure, data = wage1)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.89832 -0.24486 -0.03093  0.23483  1.11291 \n\nCoefficients:\n              Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  0.5370094  0.1070982   5.014 7.33e-07 ***\nhsolteiro   -0.2196913  0.0555033  -3.958 8.61e-05 ***\nmsolteira   -0.3266998  0.0502974  -6.495 1.95e-10 ***\nmcasada     -0.4146530  0.0459328  -9.027  &lt; 2e-16 ***\neduc         0.0795322  0.0067169  11.841  &lt; 2e-16 ***\nexper        0.0297116  0.0051097   5.815 1.06e-08 ***\nI(exper^2)  -0.0005919  0.0001081  -5.475 6.84e-08 ***\ntenure       0.0149328  0.0028460   5.247 2.26e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.3949 on 518 degrees of freedom\nMultiple R-squared:  0.4553,    Adjusted R-squared:  0.448 \nF-statistic: 61.86 on 7 and 518 DF,  p-value: &lt; 2.2e-16\n\n\nComo temos um modelos log-n√≠vel, a interpreta√ß√£o √© dada por \\(\\% \\Delta y = (100 \\beta_1) \\Delta x\\). Com base nas estimativas, verificamos que com rela√ß√£o aos homens casados:\n\nHomens solteiros recebem cerca de 22% a menos.\nMulheres solteiras recebem 32,6% a menos.\nMulheres casadas recebem 41,5% a menos.\n\nMantendo fixas educa√ßao, experi√™ncia e tempo no emprego.\nVari√°veis ao Quadrado: interpretando\nNote que temos uma nova vari√°vel, a exper√™ncia, ao quadrado. A vari√°vel ao quadrado tenta capturar a seguinte ideia: se cada ano a mais de experi√™ncia sempre gera o mesmo incremento de sal√°rio, ou se recebe cada vez menos por cada ano a mais de experi√™ncia. Temos agora uma mudan√ßa de interpreta√ß√£o\n\\[\\frac{\\% \\Delta y }{\\Delta x}= 100\\beta_5 +200\\beta_6exper  \\]\nCom base nas estimatvas:\n\\[\\frac{\\% \\Delta y }{\\Delta x}= 100\\times0,0297 +200\\times -0,000592 \\times exper\\]\n\\[\\frac{\\% \\Delta y }{\\Delta x}= 2,97 -0,118 \\times exper  \\] Vamos pensar em uma pessoa que tem 0 anos de experi√™ncia e adquire um ano. Logo:\n\\[\\frac{\\% \\Delta y }{1}= 2,97 -0,118 \\times 1 = 2,85\\% \\] Ela ira receber 2,85% a mais de sal√°rio devido a essa experi√™ncia adquirida. Vejamos agora uma pessoa com 9 anos e adquire mais um ano, vai para 10. Logo\n\\[\\frac{\\% \\Delta y }{1}= 2,97 -0,118 \\times 10 = 1,79\\% \\] Esse ano a mais agora adicionou apenas 1,79% no seu sal√°rio. Para finalizar vejamos de 24 para 25 anos de experi√™ncia\n\\[\\frac{\\% \\Delta y }{1}= 2,97 -0,118 \\times 25 = 0,02\\% \\] Adiciona praticamente zero. E a partir desse ponto a adi√ß√£o ser√° negativa, mais experi√™ncia ter√° menor sal√°rio. Assim o ponto de mudan√ßa ser√°:\n\\[ 2,97 -0,118 \\times exper = 0 \\implies exper=\\frac{2,97}{0,118}=25,16 \\] O sal√°rio vai aumentando at√© chegar a experi√™ncia de 25 anos, depois desse ponto o mercado tende a penalizar com sal√°rios menores quem tem mais experi√™ncia.\n\n\n14.8.6 Incorporando Informa√ß√µes Ordinais com o uso de Vari√°veis Dummy.\nVamos agora entender a cria√ß√£o de bin√°rias para vari√°veis com v√°rias categorias. Um exemplo cl√°ssico de vari√°vel com diversas categorias √© a regi√£o onde mora o indiv√≠duo. Podemos ver isso no nosso banco anterior chamado dados:\n\ntable(dados$regiao)\n\n\nCO  N NE  S SD \n 4  7  9  3  4 \n\n\nTemos que escolher uma regi√£o de compara√ß√£o, por exemplo Sudeste. Assim, pode-se criar uma bin√°ria para o CO, uma para o N, uma para o NE e uma para o S. Veja o exemplo abaixo.\n\n### criando as vari√°veis\nlibrary(\"dplyr\")\n\ndados &lt;- dados %&gt;%\n  mutate(CO = ifelse(regiao==\"CO\", 1, 0))\n\ndados &lt;- dados %&gt;%\n  mutate(NE = ifelse(regiao==\"NE\", 1, 0))\n\ndados &lt;- dados %&gt;%\n  mutate(N = ifelse(regiao==\"N\", 1, 0))\n\ndados &lt;- dados %&gt;%\n  mutate(S = ifelse(regiao==\"S\", 1, 0))\n\nComo esse banco √© muito pequeno, vamos retomar o banco o Wooldridge wage1. Neste banco j√° est√° criada a vari√°vel de regi√£o sendo a regi√£o leste a de compara√ß√£o. Vamos adicionar na regress√£o as regi√µes, sul, centro-norte e oeste.\n\nreg_salar &lt;- lm(log(wage)~  northcen + west+ south + female+ educ+ exper +tenure, data=wage1)\n\nsummary(reg_salar)\n\n\nCall:\nlm(formula = log(wage) ~ northcen + west + south + female + educ + \n    exper + tenure, data = wage1)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.01490 -0.25600 -0.02259  0.25361  1.30569 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  0.534853   0.108019   4.951 9.98e-07 ***\nnorthcen    -0.064811   0.052512  -1.234  0.21768    \nwest         0.078528   0.058211   1.349  0.17792    \nsouth       -0.061050   0.049041  -1.245  0.21374    \nfemale      -0.306808   0.037148  -8.259 1.23e-15 ***\neduc         0.086823   0.006943  12.504  &lt; 2e-16 ***\nexper        0.004808   0.001622   2.963  0.00318 ** \ntenure       0.017148   0.002968   5.777 1.31e-08 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.4137 on 518 degrees of freedom\nMultiple R-squared:  0.4022,    Adjusted R-squared:  0.3941 \nF-statistic: 49.79 on 7 and 518 DF,  p-value: &lt; 2.2e-16\n\n\nObserva-se no modelo acima que n√£o h√° diferen√ßas regionais importantes nos sal√°rios, quando controlamos para mulheres, educa√ß√£o, experi√™ncia e tempo no trabalho.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>14</span>¬† <span class='chapter-title'>Modelos Lineares</span>"
    ]
  },
  {
    "objectID": "estatistica.html",
    "href": "estatistica.html",
    "title": "13¬† Uma Introdu√ß√£o √† Estat√≠stica",
    "section": "",
    "text": "13.1 Porque Estudar Estat√≠stica?\nPodemos dizer que a exist√™ncia da estat√≠stica e de outras ci√™ncias est√° conectada a exist√™ncia de problemas. N√£o somente a ci√™ncia mas o nosso trabalho est√° conectado a supera√ß√£o de problemas cotidianos. Tomar decis√£o √© o dia a dia do gestor.\nSegundo Popper ‚Äúwe study not disciplines, but problems. Often, problems transcend the boundaries of a particular discipline‚Äù\nA quest√£o central √©: Como solucionamos os problemas? Utilizamos a melhor estrat√©gia? A solu√ß√£o foi boa?\nflowchart LR\n  A[PROBLEMA] --&gt; B[Estrat√©gia de Decis√£o]\n  B --&gt; C{Solu√ß√£o √© BOA?}",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>13</span>¬† <span class='chapter-title'>Uma Introdu√ß√£o √† Estat√≠stica</span>"
    ]
  },
  {
    "objectID": "estatistica.html#porque-estudar-estat√≠stica",
    "href": "estatistica.html#porque-estudar-estat√≠stica",
    "title": "13¬† Uma Introdu√ß√£o √† Estat√≠stica",
    "section": "",
    "text": "13.1.1 Os dois sistemas cognitivos\nOs livros abaixo s√£o boas refer√™ncias sobre a tomada de decis√£o.\n\n\n\n\n\n\nKahneman: R√°pido e Devagar- Duas Formas de Pensar\n\n\n\n\n¬†\n\n\n\n\n\nBazerman e Moore: Processo Decis√≥rio\n\n\n\n\n\nExistem dois sistemas que utilizamos para tomar decis√£o. O chamado Sistema 1 e o chamado Sistema 2. Segue uma breve descri√ß√£o de cada um:\nSistema 1:\n\nIntuitivo, r√°pido, autom√°tico, sem esfor√ßo, impl√≠cito e emocional\n\nPressa,\nFalta de tempo,\nProblemas menos importante\nMais Falhas/Erros\n\n\nSistema 2\n\nRacioc√≠onio lento, consciente, esfor√ßado, expl√≠cito, l√≥gico\n\nRequer tempo,\nMais recursos\nProblemas mais importante\nMenos Falhas\n\n\nPara o Sistema 1 usamos a nossa intui√ß√£o que chamamos de Heur√≠stica. Vejamos um pouco mais sobre esse sistema.\nHEUR√çSTICA\nS√£o rotinas inconscientes ou atalhos que o nosso c√©rebro utiliza para lidar com a complexidade.\n\nModelo/Regras Intuitivas.\nPr√≥prio do Sistema 1.\nApesar de processo sofisticado, s√£o pass√≠veis de falhas. Intui√ß√£o falha\n\nUm Exemplo\nVeja a figura abaixo retirada do livro do Bazerman.Responda r√°pido.\nQual delas tem o tampo mais quadrado?\n\n\n\nBazerman: Exemplo das mesas\n\n\nSe voc√™ achou que √© a segunda mesa, voc√™ est√° alinhado com a grande maioria. Nesse caso voc√™ usou o seu sistema 1\nVamos repitir a pergunta:\nQual delas tem o tampo mais quadrado?\nAgora use uma r√©gua para medir as mesas. Usamos aqui o sistema 2. Mais tempo e recursos s√£o utlizados. Qual mesa agora voc√™ considera mais quadrada? Mudou sua opini√£o?\nCom a r√©gua vemos que as mesas s√£o iguais. Isso mostra que a nossa intui√ß√£o FALHA.\nTipos de Heur√≠sticas\n\nHeur√≠stica da disponibilidade: Usamos o que est√° mais pr√≥ximo na mem√≥ria para calcular a probabilidade.\nHeur√≠stica da representatividade: Buscamos aquilo que refor√ßa o padr√£o.\nHeur√≠stica da hip√≥tese positiva: Assumimos que uma determinada hip√≥tese √© verdadeira e n√£o olhamos o contrafactual.\nHeur√≠stica do afeto: Decis√£o considera o emocional. Seu humor afetam as decis√µes.\n\nPara contornar os problemas da intui√ß√£o e seus vi√©ses na tomada de decis√£o o primeiro passo √© compreender que eles existem e estarmos alerta. E para problemas maiores o uso do sistema 2 torna-se relevante.\nUma das principais ferramentas do sistema 2 √© a Estat√≠stica. Com os avan√ßos computacionais essa ci√™ncia tem se destacado como um dos elementos centrais do data science. Abaixo a figura resume as diversas √°reas de desenvolvimento da an√°lise de dados, obviamente n√£o exaustiva:\n\n\n\nFluxograma da An√°lise de Dados\n\n\nNosso objetivo √© explorar nessa se√ß√£o a an√°lise descritiva. Chamado hoje no Business Intelligence, que e uma das √°reas do Data Science.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>13</span>¬† <span class='chapter-title'>Uma Introdu√ß√£o √† Estat√≠stica</span>"
    ]
  },
  {
    "objectID": "estatistica.html#conceitos-b√°sicos-de-estat√≠stica",
    "href": "estatistica.html#conceitos-b√°sicos-de-estat√≠stica",
    "title": "13¬† Uma Introdu√ß√£o √† Estat√≠stica",
    "section": "13.2 Conceitos B√°sicos de Estat√≠stica",
    "text": "13.2 Conceitos B√°sicos de Estat√≠stica\nNovamente come√ßamos com um problema e esse definir√° a nossa an√°lise. Vejamos alguns problemas que poderiam nos interessar‚Ä¶\n\n\n\n\n\n\nProblema 1\n\n\n\nO prefeito de Ribeir√£o Preto vai lan√ßar uma pol√≠tica que fornece vouchers de alimenta√ß√£o para mulheres que est√£o em situa√ß√£o de pobreza.\nProblema: Qual o valor que devo reservar ao programa? Quantas mulheres ser√£o atendidas?\n\n\n\n\n\n\n\n\nProblema 2\n\n\n\nO TJSP vai lan√ßar um programa para reduzir o tempo m√©dio em processos de feminic√≠dio.\nProblema: Qual o tempo m√©dio de um processo de feminic√≠dio?\n\n\n\n\n\n\n\n\nProblema 3\n\n\n\nO O governo federal vai lan√ßar um programa para capacitar mulheres que est√£o fora do mercado de trabalho.\nProblema: Quantas mulheres ser√£o alvos dessa pol√≠tica?\n\n\n\n13.2.1 A Popula√ß√£o e suas Caracter√≠sticas\nO problema nos define a popula√ß√£o que estou interessado. Vamos seguir, a princ√≠pio, com o nosso probelma 1 para definirmos alguns conceitos importantes.\nNo problema 1: me interessa compreender a renda das mulheres que moram em Ribeir√£o Preto em dado ano. Para ficar simples vamos abreviar o que nos interessa\n\\[X=\\text{Renda das mulheres que moram em Ribeir√£o Preto em determinado ano}\\] Agora posso utilizar o X no lugar do nome. Olhando para a popula√ß√£o e pensando que cada n√≠vel de renda pode ser representada por uma cor, teremos a seguinte imagem pouco de como a renda se distribui nessa popula√ß√£o:\n\n\n\nRenda pc das mulheres de Ribeir√£o Preto.\n\n\nA quest√£o √©: quais cores existem e quantas pe√ßas de cada cor temos? Para isso usamos um experimento\nEXPERIMENTO ALEAT√ìRIO\nO experimento em ci√™ncias sociais aplicadas em geral est√° associada a observa√ß√£o sistem√°tica de pessoas, cidades, empresas ou processos. A ideia √©:\n\nSortear pessoas e observar a sua caracteristica de forma indefinida e sempre na mesma condi√ß√£o.\n\nN√£o consigo dizer o que vai sair no pr√≥ximo sorteio, apenas consigo descrever os resultados poss√≠veis\nSe repetir o experimento um n√∫mero grande de vezes uma regularidade aparece.\n\nSe eu conseguir sortear de forma indefinida e na mesma condi√ß√£o as mulheres que moram em Ribeir√£o Preto e perguntar sobre a sua renda. Eu consigo reorganizar a figura acima da seguinte forma:\n\n\n\nRenda pc das mulheres de Ribeir√£o Preto.\n\n\nESPA√áO AMOSTRAL\nAgora conseguimos organizar os nossos resultados em um lugar chamado espa√ßo amostral. Nele teremos todas as cores (azul, branca, amarela‚Ä¶) que podem acontecer e o n√∫mero de pe√ßas de cada cor (a chance). Em outras palavras teremos todos os poss√≠veis valores de \\(X\\) e suas probabilidades.\nVARI√ÅVEL ALEAT√ìRIA\nQuanto representamos esse espa√ßo amostral em formato de n√∫meros √© o que chamamos de Vari√°vel Aleat√≥ria (V.A.). A V.A. √© a combina√ß√£o de tudo que pode acontecer, ou seja, todas as rendas que existem associadas a probabilidade de cada uma das rendas acontecerem.\nExistem dois tipos principais de vari√°veis aleat√≥rias: discretas e cont√≠nuas.\nVARI√ÅVEIS ALEAT√ìRIAS DISCRETAS\n√â um tipo de vari√°vel que conseguimos colocar em lista, seja finita ou infinita \\(x_1; x_2;...; x_n;...\\) e associa-se a cada um dessses valores uma probabilidade \\(p(x_1); p(x_2);...; p(x_n);...\\)\nPodemos pensar aqui se a pessoa √© casada, solteira, divorciada, vi√∫va ou outra condi√ß√£o. Se no processo classificamos como homic√≠dio ou feminic√≠dio, se √© procedente ou improcedente, se mora na √°rea urbana ou rural‚Ä¶\nNa figura abaixo iremos coletar de 20 processos de homic√≠dio e gostariamos de saber quando √© classificado como feminic√≠dio e quanto √© classificado como homic√≠dio (p=0,3).\n\nfeminicidio &lt;- 0:20\n\nplot(feminicidio,dbinom(feminicidio,size=20,prob=.3),\n     type='h',\n     main='Distribui√ß√£o Binomial (n=20, p=0.3)',\n     ylab='Probabilidade',\n     xlab ='Feminic√≠dio',\n     lwd=3)\n\n\n\n\nDistribui√ß√£o Normal\n\n\n\n\nVARI√ÅVEIS ALEAT√ìRIAS CONT√çNUAS\nPor outro lado, uma vari√°vel aleat√≥ria cont√≠nua pode assumir infinito valores dentro de um intervalo espec√≠fico. Agora temos infinitas possibilidades de resultados para \\(X\\) e agora associamos uma fun√ß√£o \\(f(x)\\) que ir√° descrever o comportamento da probabilidade.\nPor exemplo, a altura de uma pessoa, a sua renda, a sua idade, o tempo que demora um processo.\nAbaixo temos uma representa√ß√£o de uma distriui√ß√£o continua da renda das mulheres em Ribeir√£o Preto, chamada distribui√ß√£o normal:\n\nrm(list = ls(all.names = TRUE)) #will clear all objects includes hidden objects.\nx&lt;-seq(700,1300,1)\nfdnorm&lt;-dnorm(x = x, mean = 1000, sd=100)  \nfdanorm&lt;-pnorm(q = x, mean = 1000, sd=100)\ncurve(dnorm(x,1000,100),xlim=c(700,1300),main='',xaxt=\"n\",xlab=\"Renda pc Mulheres\", ylab=\"f(x)\",col=\"darkblue\",cex.axis=0.65, cex.lab=0.8) \naxis(1,at=c(900, 1000, 1100),labels =\n       c(\"-DP(X)\",\"E(x)\",\"DP(x)\"),cex.axis=0.65, cex.lab=0.8) \nlines(x=c(1000,1000),y=c(0,fdnorm[x==1000]),lty=2, col=\"black\") \nlines(x=c(1100,1100),y=c(0,fdnorm[x==1100]),lty=2, col=\"black\")\nlines(x=c(900,900),y=c(0,fdnorm[x==900]),lty=2, col=\"black\")\n\n\n\n\nDistribui√ß√£o Normal\n\n\n\n\n\n13.2.1.1 Esperan√ßa e Vari√¢ncia\nO formato das distribui√ß√µes vistas dependem principalmente de dois par√¢metros: A esperan√ßa (m√©dia ponderada) que √© uma medida de centralidade e a vari√¢ncia que √© uma medida de dispers√£o.\nESPERAN√áA - \\(E(X)\\)\nA esperan√ßa de uma vari√°vel aleat√≥ria ou m√©dia populacional representa o valor m√©dio que se espera observar se o fen√¥meno fosse repetido muitas vezes sob as mesmas condi√ß√µes. Em outras palavras, √© uma medida de tend√™ncia central que indica para onde os resultados tendem a convergir (a m√©dia). √â definida como a m√©dia ponderada de todos os poss√≠veis resultados de \\(X\\), onde os pesos s√£o dados pelas probabilidades desses resultados ocorrerem.\n\nQual o tempo m√©dio de um processo de homic√≠dio at√© a senten√ßa?\nQual a a m√©dia de proced√™ncia de processos relacionados √† viol√™ncia contra a mulher?\n\n\n\n\n\n\n\nDefini√ß√£o Formal\n\n\n\n\n\nA esperan√ßa de \\(X\\), \\(E(X)\\), √© calculada como:\n\\[E(X) = \\sum_{x} x \\cdot P(X = x)\\]\npara vari√°veis discretas.\n\\[E(X) = \\int_{-\\infty}^{\\infty} x \\cdot f(x)\\]\npara vari√°veis cont√≠nuas\n\n\n\nVARI√ÇNCIA POPULACIONAL - \\(Var(X)\\)\nA vari√¢ncia √© uma medida que captura como os dados populacionais se dispers√£o em rela√ß√£o a sua m√©dia (ou esperan√ßa). Suponha que conhecemos o tempo de tramita√ß√£o de processos judiciais. A Vari√¢ncia √© uma medida que nos ajuda a entender o qu√£o espalhados est√£o os tempos de cada processo em rela√ß√£o ao tempo m√©dio. Como n√£o importa se durou mais ou menos que a m√©dia, usamos a medida do desvio ao quadrado!\n\n\n\n\n\n\nDefini√ß√£o Formal\n\n\n\n\n\nA Vari√¢ncia √© uma medida de desvio em rela√ß√£o a m√©dia, ao quadrado, definida como:\n\\[Var(X) =\\frac{1}{N} \\sum_{1}^{N} (X_i-E(X))^2\\]\nOu podemos assim representar:\n\\[\\text{Var}(X) = E(X^2) - [E(X)]^2\\]\n\n\n\nDESVIO PADR√ÉO POPULACIONAL - \\(DP(X)\\)\nA vari√¢ncia √© uma medida ao quadrado. Se estamos falando da renda seria uma medida da dispers√£o ao quadrado, ou seja, em \\(R\\$^{2}\\), se for o tempo, \\(T^{2}\\). Para retornar a unidade original usamos a raiz quadrada da vari√¢ncia, que chamamos de desvio padr√£o.\n\n\n\n\n\n\nDefini√ß√£o Formal\n\n\n\n\n\nO desvio padr√£o √© a raiz quadrada da vari√¢ncia:\n\\[DP(X)=\\sqrt{Var(X)}\\]\n\n\n\nEXEMPLO\nVejamos o que acontece quando mudamos a esperan√ßa e o desvio padr√£o.\n\nNo gr√°fico em azul temos a esperan√ßa igual a 10 e devio padr√£o de 2,5.\nNo gr√°fico em vermelho temos esperan√ßa de 20 e desvio padr√£o de 10.\nE no grafico em verde temos esperan√ßa de 10 e desvio padr√£o de 1.\n\nNota-se que quanto menor o desvio padr√£o mais concentrados s√£o os valores que podem acontecer.\n\ncurve(dnorm(x,mean=10,sd=sqrt(2.5)),xlim=c(0,30),ylim=c(0.0,0.4),xaxs=\"i\",yaxs=\"i\",ylab=\"\", col=\"darkblue\") \npar(new=T)\ncurve(dnorm(x,mean=20,sd=sqrt(10)),xlim=c(0,30),ylim=c(0.0,0.4),xaxs=\"i\",yaxs=\"i\",ylab=\"\", col=\"darkred\") \npar(new=T)\ncurve(dnorm(x,mean=20,sd=sqrt(1)),xlim=c(0,30),ylim=c(0.0,0.4),xaxs=\"i\",yaxs=\"i\",ylab=\"\", col=\"darkgreen\") \n\n\n\n\nM√©dias e desvios distintos entre distribui√ß√µes\n\n\n\n\n\n\n\n13.2.2 Vari√°veis Aleat√≥rias Bidimensionais\nMuito provavelmente nos interessa observar mais de uma caracter√≠stica de um experimento. Por exemplo, n√£o somente a renda das mulheres em Ribeir√£o Preto nos interessa, mas o seu consumo alimentar tamb√©m julgamos importante para o projeto.\nPortanto, queremos observar duas caracter√≠sticas de forma simult√¢nea das mulheres: sua renda e seu consumo alimentar. Ou seja, duas caracter√≠sticas simultaneamente do mesmo experimento \\(\\epsilon\\) que foi observar as mulheres no munic√≠pio.\nApesar de termos coletados duas informa√ß√µes, temos na realidade tr√™s informa√ß√µes. A informa√ß√£o da renda, a informa√ß√£o do consumo alimentar e a informa√ß√£o de como renda e consumo alimentar interagem.\nVISUALIZA√á√ÉO GR√ÅFICA\nVejamos agora um exemplo de vari√°vel alea√≥ria bidimensional:\nNormal Bivariada:\nAbaixo tem-se uma vari√°vel aleat√≥ria \\((X,Y)\\) com distribui√ß√£o normal bivariada com a esperan√ßa de \\(X\\) igual a 1, de \\(Y\\) igual a 0, o desvio-padr√µes iguais a 3 e 2 respectivamente. Aqui consideremaos a correla√ß√£o de 1 (veremos mais a frente esse conceito)\n\nlibrary(mnormt)\n\n#Para tornar reproduz√≠vel\nset.seed(0)\n\n#cCriando a normal bivariada\nx     &lt;- seq(-3, 3, 0.1) \ny     &lt;- seq(-3, 3, 0.1)\nmu    &lt;- c(1, 0)\nsigma &lt;- matrix(c(3, 1, 1, 2), nrow=2)\nf     &lt;- function(x, y) dmnorm(cbind(x, y), mu, sigma)\nz     &lt;- outer(x, y, f)\n\n#Criando um gr√°fico de superf√≠cie\npersp(x, y, z, theta=-30, phi=25, expand=0.6, ticktype='detailed')\n\n\n\n\nNormal Bivariada\n\n\n\n\nSurge aqui um conceito importante que tenta medir como as caracter√≠sticas da popula√ß√£o se relacionam - uma medida do relacionamento. Assim:\nO que acontece com o consumo de alimentos quando a renda das mulheres sobem?\n\n13.2.2.1 Covari√¢ncia e Correla√ß√£o\nDuas medidas que tentam mensurar o ‚Äúgrau de associa√ß√£o‚Äù linear entre X e Y s√£o:\nCOVARI√ÇNCIA\nA covari√¢ncia mede como duas vari√°veis se movem conjuntamente. Quando uma aumenta e a outra tende a aumentar tamb√©m, a covari√¢ncia √© positiva. Quando uma cresce e a outra tende a diminuir, a covari√¢ncia √© negativa. Em outras palavras, ela indica o sentido da associa√ß√£o entre as vari√°veis, se caminham na mesma dire√ß√£o ou em dire√ß√µes opostas.\nPor exemplo, podemos observar a covari√¢ncia entre renda e consumo: quando a renda aumenta, o consumo normalmente tamb√©m aumenta, indicando uma covari√¢ncia positiva.\nEntretanto, a covari√¢ncia √© expressa nas unidades originais das vari√°veis (por exemplo, em reais e porcentagem), o que dificulta a compara√ß√£o entre diferentes pares de vari√°veis.\n\n\n\n\n\n\nDefini√ß√£o Formal\n\n\n\n\n\nA covari√¢ncia pode ser assim medida:\n\\[Cov(X,Y)=E[(X-E(X))(Y-E(Y))]= E(X.Y)-E(X).E(Y)\\]\n\n\n\nCORRELA√á√ÉO\nPara contornar o problema das diferentes unidades de medida, utilizamos a correla√ß√£o, que √© uma vers√£o padronizada da covari√¢ncia. Isto √©, a covari√¢ncia √© dividida pelo desvios padr√µes das vari√°veis envolvidas. Ela mede a for√ßa e dire√ß√£o da rela√ß√£o linear entre duas vari√°veis, mas varia sempre entre ‚Äì1 e 1, sem unidade de medida. Assim, uma correla√ß√£o pr√≥xima de 1 indica associa√ß√£o positiva perfeita, ‚Äì1 associa√ß√£o negativa perfeita, e 0 aus√™ncia de rela√ß√£o linear.\n\n\n\n\n\n\nDefini√ß√£o Formal\n\n\n\n\n\nA correla√ß√£o pode ser assim medida:\n\\[\\rho_{X,Y}=\\frac{E[(X-E(X))(Y-E(Y))]}{\\sqrt{Var(X)Var(Y)}}=\\frac{Cov(X,Y)}{DP(X).DP(Y)}\\]\n\n\n\nAten√ß√£o\n\n\n\n\n\n\nCorrela√ß√£o\n\n\n\nA correla√ß√£o mede o GRAU DE ASSOCIA√á√ÉO LINEAR. Associa√ß√µes n√£o lineares n√£o s√£o capturadas pela correla√ß√£o.\n\n\n\n\n\n\n\n\nInterpretando a Correla√ß√£o\n\n\n\nA correla√ß√£o \\(\\rho_{X,Y}\\) varia de -1 at√© 1. Sendo que:\n\\(\\rho\\) pr√≥ximo a 1 e -1 indicam alto grau de linearidade e \\(\\rho\\) pr√≥ximo a 0 indica aus√™ncia de rela√ß√£o linear - mas n√£o diz nada sobre rela√ß√µes n√£o-lineares.\n\n\nVISUALIZA√á√ÉO GR√ÅFICA\nVeja no gr√°fico abaixo que a vari√°vel 4 e 5 possuem correla√ß√£o perfeita, igual a -1. E as vari√°veis 3 e 1 n√£o possuem grau de associa√ß√£o linear, correla√ß√£o pr√≥xima a 0.\n\n\n\n\n\nGr√°fico de correla√ß√£o para vari√°veis simuladas v1 a v5",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>13</span>¬† <span class='chapter-title'>Uma Introdu√ß√£o √† Estat√≠stica</span>"
    ]
  },
  {
    "objectID": "estatistica.html#conceitos-b√°sicos-infer√™ncia-estat√≠stica",
    "href": "estatistica.html#conceitos-b√°sicos-infer√™ncia-estat√≠stica",
    "title": "13¬† Uma Introdu√ß√£o √† Estat√≠stica",
    "section": "13.3 Conceitos B√°sicos Infer√™ncia Estat√≠stica",
    "text": "13.3 Conceitos B√°sicos Infer√™ncia Estat√≠stica\nDado a nossa pergunta ou problema, gostariamos de saber as carcate√≠stica de uma popula√ß√£o.\nEntretantom um processo de levantamento de informa√ß√µes √© em geral caro e em muitas situa√ß√µes √© destrutivo. Em ci√™ncias sociais estamos interessados em caracter√≠sticas de pessoas, empresas, munic√≠pios, estados, pa√≠ses etc. N√£o √© destrutivo mas √© uma coleta cara. Por exemplo, o Censo demogr√°fico de 2010 custou R$ 1,3 bilh√µes, ou aproximadamente R$ 2,2 bi em reais de 2020. O valor √© de aproximadamente R$ 35,00 por domic√≠lio.\nDessa forma nosso objetivo aqui √©:\n\n\n\n\n\n\nObjetivo\n\n\n\nA partir de uma amostra da popula√ß√£o realizar infer√™ncia sobre toda a popula√ß√£o\n\n\n\n13.3.1 Exemplos do pr√≠ncipio no dia a dia\nPense nessas situa√ß√µes:\n\nGlicose: Para medir a glicose muitos pacientes usam uma gota de sangue e um pequeno aparelho. A partir dele sabem quanto tem no corpo todo, basta uma gota para termos boa certeza de quanto √© taxa de glicose!\nSal: Para saber se a quantidade de sal est√° adequada em uma grande panela de arroz, basta uma pequena colher de ch√° para termos uma boa certeza!\nDo√ßura: Abacaxis √†s vezes s√£o vendidos em caminh√µes na rua. Quando paramos provamos e s√£o doces. Compramos 4 por 10. Qual a certeza que esses que vc est√° levando estejam tamb√©m doces? √â diferente das situa√ß√µes anteriores?\n\nCom certeza vc deve ter pensado que essas situa√ß√µes tem grau de certeza vari√°veis. A diferen√ßa est√° em qu√£o homog√™nea √© a caracter√≠stica na popula√ß√£o, o sal no arroz e a glicose no sangue devem ser muito bem distribuidas, ou seja, bem homog√™neas. J√° a do√ßura no abacaxi deve ter distribui√ß√£o maior e provar apenas um abacaxi n√£o nos d√° uma ideia do todo.\nEsse √© um erro muito comum, a partir de uma ou poucas observa√ß√µes dizer que o todo se comporta da mesma maneira , esse erro se agrava quando maior √© a heterogeneidade!!!\n\n\n13.3.2 Popula√ß√£o, Amostra, Par√¢metros e Estimadores\n\n\n13.3.3 Popula√ß√£o e amostra\n\n\n\n\n\nflowchart LR\n  A[POPULA√á√ÉO] --&gt; B[Totalidade das observa√ß√µes sob Investiga√ß√£o]\n  A --&gt; C[AMOSTRA]\n  C --&gt; D[Subconjunto da Popula√ß√£o]\n\n\n\n\n\n\nA defini√ß√£o da popula√ß√£o depende da pergunta de pesquisa ou an√°lise. Se queremos saber qual o sal√°rio m√©dio dos empregados do setor industrial no estado de S√£o Paulo para determinado ano, nossa popula√ß√£o s√£o todos os funcion√°rios das ind√∫strias instaladas no estado de S√£o Paulo para esse ano. Se queremos os determinantes do desempenho escolar dos alunos do ensino fundamental no Brasil em 2019, nossa popula√ß√£o ser√° esse grupo de alunos nesse ano. Se quisermos avaliar o gasto municipal no ano anterior as elei√ß√µes no Brasil, temos nossa popula√ß√£o formada pelos munic√≠pios para o ano de an√°lise.\n\n\n\n\n\n\nPopula√ß√£o\n\n\n\nQuem define a popula√ß√£o √© o objetivo do seu trabalho!! Ou seja, seu problema de pesquisa\n\n\n\n\n13.3.4 Amostragem Aleat√≥ria Simples\nExistem v√°rias maneiras de fazer uma an√°lise aleat√≥ria, uma delas √© a simples. Vejamos primeiro um processo de amostragem n√£o aleat√≥rio e que possui tendenciosidade. A figura abaixo mostra esse processo de amostragem errado:\n\n\n\nUm processo de amostragem vies√°do. Fonte:Data Basecamp\n\n\nObserva-se que existe uma supervaloriza√ß√£o do vermelho e uma subvaloriza√ß√£o do azul. Chegariamos a conclus√£o, caso isso fosse uma pesquisa eleitoral, que o candidato vermelho, segunda amostra teria mais chance de ganhar e o azul quase nenhuma chance. O que n√£o condiz com a popula√ß√£o. Dizemos que temos uma amostra viesada ou tendenciosa.\nUm processo de amostragem aleat√≥rio requer que as caracter√≠sticas presentes na popula√ß√£o estejam presentes na amostras e estejam balanceadas, ou seja, que a sua leitura represente bem o todo.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>13</span>¬† <span class='chapter-title'>Uma Introdu√ß√£o √† Estat√≠stica</span>"
    ]
  },
  {
    "objectID": "estatistica.html#estat√≠stica-e-par√¢metro",
    "href": "estatistica.html#estat√≠stica-e-par√¢metro",
    "title": "13¬† Uma Introdu√ß√£o √† Estat√≠stica",
    "section": "13.4 Estat√≠stica e Par√¢metro",
    "text": "13.4 Estat√≠stica e Par√¢metro\nPAR√ÇMETROS\n\n\n\n\n\nflowchart LR\n  A[PAR√ÇMETRO] --&gt; B[Medida que descreve uma caracter√≠stica da popula√ß√£o]\n\n\n\n\n\n\nOs par√¢metros definem as caracter√≠sticas de uma popula√ß√£o. Qual a renda m√©dia da popula√ß√£o, qual o desemprego m√©dio da popula√ß√£o, qual o desempenho m√©dio educacional, qual a expectativa de vida m√©dia na popula√ß√£o, qual o tempo m√©dio de processos de homic√≠dios etc. S√£o caracter√≠sticas que em geral n√£o observamos.\nUma pergunta, qual o tempo m√©dio de um processo de feminic√≠dio at√© a senten√ßa? Perceba que mesmo caracter√≠sticas da popula√ß√£o que conhecemos muitas vezes s√£o n√£o observadas. Temos que nos valer de uma parte e tentar estimar o que seriam os valores dessas caracter√≠sticas.\nESTAT√çSTICAS\n\n\n\n\n\nflowchart LR\n  A[ESTAT√çSTICA] --&gt; B[Medida que descreve uma caracter√≠stica da amostra]\n\n\n\n\n\n\nVamos supor que coletamos mil processos judiciais para analisar o tempo de tramita√ß√£o at√© a senten√ßa. Cada processo representa uma realiza√ß√£o de da vari√°vel aleat√≥ria, neste caso, o tempo necess√°rio para que o processo tenha senten√ßa. Esses processos pertencem a uma popula√ß√£o maior de todos os processos existentes, e o que observamos √© apenas uma amostra dessa popula√ß√£o.\nA partir dessas observa√ß√µes amostrais, calculamos estat√≠sticas, que s√£o resumos num√©ricos dos dados amostrais, como m√©dias, propor√ß√µes, desvios, m√≠nimos ou m√°ximos. Essas estat√≠sticas descrevem a amostra que temos em m√£os. S√£o estimativas dos par√¢metros populacionais, que s√£o os valores verdadeiros (e geralmente desconhecidos) da popula√ß√£o como um todo.\n√â importante notar, por√©m, que se repet√≠ssemos o mesmo procedimento de coleta com outros mil processos, provavelmente obter√≠amos valores diferentes de m√©dias e desvios. Isso ocorre porque as estat√≠sticas variam de amostra para amostra.\n\n\n\n\n\n\nDefini√ß√£o Formal\n\n\n\n\n\nSejam \\(x_1, x_2,..., x_{n}\\) os valores medidos a cada para cada medi√ß√£o de \\(X\\). Podemos definir uma estat√≠stica como:\n\\[ t= H (x_1, x_2, ..., x_{n})\\]\nAlguns exemplos de T:\n\\[ \\text{M√©dia}: \\ \\overline{x}=\\frac{\\sum_{i=1}^{n} x_i}{n}\\]\n\\[ \\text{Vari√¢ncia:} \\ s^{2}= \\frac{1}{n-1} \\sum_{i=1}^{n} (x_i - \\overline{x})^{2} \\]\n\\[ x_{(1)}: Min\\{x_1, ..., x_n\\}\\]\n\n\n\nVejamos a tabela abaixo que j√° faz uma primeira associa√ß√£o entre estat√≠stica e par√¢metro:\n\n\n\n\n\n\n\n\n\nPar√¢metro\n\nEstat√≠stica\n\n\n\n\n\nEsperan√ßa\n\\(E(X)=\\mu\\)\n\\(\\bar{X}\\)\nM√©dia\n\n\nVari√¢ncia Pop.\n\\(Var(X)=\\sigma^2\\)\n\\(S^2;\\sigma^2\\)\nVari√¢ncia Amostral\n\n\nMediana Pop.\nMd\nmd\nMediana Amostral\n\n\nPropor√ß√£o Pop.\np\n\\(\\hat{p}\\)\nPropor√ß√£o Amostral\n\n\n\nTabela 1 - Par√¢metros populacionais e as Estat√≠sticas associadas\nComo regra geral, os par√¢metros s√£o representados por letras gregas e as estat√≠stica com letras do nosso alfabeto (latino) ou letra grega com com chap√©u para indicar que √© uma estat√≠stica.\nESTIMADORES\nUm estimador √© uma estat√≠stica calculada a partir da amostra que √© usada para estimar um par√¢metro desconhecido da popula√ß√£o. Nos permitem fazer infer√™ncias sobre os par√¢metros com base nos dados amostrais. Por exemplo, a m√©dia amostral √© um estimador da m√©dia populacional, e a propor√ß√£o amostral √© um estimador da propor√ß√£o populacional.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>13</span>¬† <span class='chapter-title'>Uma Introdu√ß√£o √† Estat√≠stica</span>"
    ]
  },
  {
    "objectID": "estatistica.html#teste-de-hipotese-par√¢metros.",
    "href": "estatistica.html#teste-de-hipotese-par√¢metros.",
    "title": "13¬† Uma Introdu√ß√£o √† Estat√≠stica",
    "section": "13.5 Teste de Hipotese (Par√¢metros).",
    "text": "13.5 Teste de Hipotese (Par√¢metros).\nAlgumas vezes gostariamos de testar se uma teoria √© veross√≠mil com a realidade ou mesmo testar teorias diferentes e verificar qual seria a mais plaus√≠vel com base na realidade.\nDessa forma, gostariamos de testar se uma hip√≥tese sobre a popula√ß√£o √© mais plaus√≠vel, ou seja, se os dados amostrais trazem evid√™ncias que apoiam ou n√£o essa hip√≥tese. Por exemplo:\n\nVerificar se um determinado medicamento n√£o tem efeito sobre a mortalidade causada por um determinado virus ou se possui efeito.\nVerificar se a quantidade de gordura anunciado pelo fabricante de um produto realmente est√° correta ou √© maior.\nSe a afirmativa de um canditado de que possui a maioria dos votos √© verdadeira ou √© menor.\nVerificar se as rendas entre duas comunidades s√£o as mesmas para podermos lan√ßar uma pol√≠tica de apoio\nVerifcar se uma pol√≠tica do aumento do recurso as empresas n√£o afeta fal√™ncia ou se tem efeito.\nse o tempo m√©dio de encaminhamento e deferimento de medida protetiva de urg√™ncia √© menor do que 48 horas em casos de viol√™ncia dom√©stica e familiar contra a mulher.\n\nAqui faremos algo muito parecido a presun√ß√£o de inoc√™ncia, assumimos que a pessoa ou empresa √© ‚Äúinocente‚Äù.\n\nO medicamento n√£o tem efeito,\nO teor de gordura est√° certo,\nO candidato tem maioria,\nAs comunidades possuem a mesma renda,\nO recurso financeiro n√£o afeta o n√∫mero de fal√™ncias\nO deferimento ocorre em at√© 48h.\n\n\n\n\n\n\n\nA Intui√ß√£o\n\n\n\nPartimos da premissa de que a hip√≥tese inicial √© a correta e tentamos verificar com os fatos (dados amostrais) se essa hip√≥tese colocada √© veross√≠mil.\n\n\n\n13.5.1 Constru√≠ndo a Hip√≥tese Nula\nImaginemos o seguinte caso. Um estudo sobre a efici√™ncia do Judici√°rio sugere que a dura√ß√£o m√©dia de um determinado tipo de processo na Justi√ßa Federal √© de 600 dias. No entanto, advogados e operadores do direito argumentam que, na pr√°tica, esse tempo pode ser maior devido a atrasos processuais e recursos frequentes. A quest√£o √©: a estimativa oficial est√° correta ou os operadores do direito t√™m raz√£o?\nDessa forma, temos duas hip√≥teses distintas:\n\nA primeira afirma que o tempo m√©dio de dura√ß√£o do processo, \\(\\mu\\), √© de 600 dias,\nA segunda sugere que a dura√ß√£o real √© superior a 600 dias.\n\nVamos assumir que a estimativa oficial est√° correta at√© que se prove o contr√°rio, e chamaremos essa afirmativa de hip√≥tese nula (\\(H_0\\)):\n\\[H_0: \\quad \\mu = 600 \\text{ dias}\\]\nJ√° a hip√≥tese alternativa (\\(H_1\\)), que representa a teoria concorrente dos operadores do direito, sugere que a m√©dia real de dura√ß√£o do processo √© maior:\n\\[ H_1: \\quad \\mu &gt; 600 \\text{ dias}\\]\nNosso problema, ent√£o, √© decidir se devemos aceitar ou rejeitar a hip√≥tese nula \\(H_0\\) (de que o tempo m√©dio √© de 600 dias) em favor da hip√≥tese alternativa \\(H_1\\), que afirma que os processos, na realidade, levam mais tempo para serem conclu√≠dos.\nJuntas:\n\\[H_0: \\quad \\mu = 600\\] \\[H_1: \\quad \\mu &gt; 600\\]\nEsse modelo pode ser aplicado utilizando dados reais de processos judiciais para verificar se a alega√ß√£o dos operadores do direito se sustenta estatisticamente.\n\n\n13.5.2 O Teste Estat√≠stico\nQual dessas duas hip√≥teses √© mais plaus√≠vel?\nPara isso devemos nos valer de um processo de amostragem, onde faremos \\(n\\) medi√ß√µes do tempo m√©dio dos processos (que chamaremos de X) e obteremos os valores em dias do tempo m√©dio de cada processo amostrado \\(x_1, x_2,...x_n\\). Processo 1, \\(x_1\\), demorou 580 dias, processo 2, \\(x_2\\), demorou 720 dias, e assim por diante.\nCom base na amostra devemos realizar algum tipo de c√°lculo que nos permite inferir se rejeitamos ou n√£o \\(H_0\\), se √© plaus√≠vel ou n√£o a hip√≥tese colocada. Isso √© o que chamamos de teste estat√≠stico. Um exemplo √© a m√©dia amostral:\n\\[\\bar{X} = \\frac{\\sum_i^n(X_i)}{n}\\]\n\nQuest√£o: quais valores de \\(\\bar{X}\\) s√£o t√≠picos se \\(H_0\\) for verdadeira?\n\n\n\n\n\n\n\nDefini√ß√£o Formal\n\n\n\n\n\nConsidere uma amostragem de tamanho \\(n\\), sendo \\(X_1, X_2, ..., X_n\\) as \\(n\\) medi√ß√µes, e \\(x_1, x_2,...x_n\\) os valores obtidos nessas medi√ß√µes. Um teste estat√≠stico √© uma estat√≠stica \\(T\\) calculada a partir dos valores amostrais: \\[T = h(X_1,X_2, . . .,X_n)\\]\nQue ter√° o seguinte valor com base na amostra observada:\n\\[t = h(x_1,x_2, . . .,x_n)\\]\nDecidindo qual o \\(T\\) utilizar, ou seja, a fun√ß√£o \\(h\\) que ser√° aplicado aos valores da amostra, devemos compreender qual √© a distribui√ß√£o dessa estat√≠stica sob a condi√ß√£o de que a hip√≥tese \\(H_0\\) for a verdadeira.\n\n\n\nA Intui√ß√£o\nVejamos no nosso exemplo, gostariamos de verificar a hip√≥tese de que a esperan√ßa do tempo m√©dio, \\(\\mu\\) √© de 600 dias. Como j√° vimos uma boa alternativa de teste estat√≠stico poderia ser a m√©dia, \\(\\bar{X}\\). Assim o teste estat√≠stico seria:\n\\[\\bar{X} = \\frac{\\sum_i^n(X_i)}{n}\\]\nCom base na amostra observada \\(x_1, x_2, ..., x_3\\) poderiamos obter a estimativa do tempo m√©dio, ou seja, \\(\\bar{x}\\). Como saber se essa m√©dia calculada nos traz mais evid√™ncia a favor de \\(H_0\\) ou \\(H_1\\)? Veja a Figura abaixo para pensarmos no problema.\nA figura considera o estimador \\(\\bar{X}\\). A esquerda temos os valores do estimador que atestam que a hip√≥tese \\(H_0\\) √© a mais plaus√≠vel, quando mais pr√≥xima a estimativa de 600 maior evid√™ncia que \\(H_0\\) √© verdadeira. Ao caminhar para a direita, os valores do estimador se distanciam de 600, e mais evid√™ncia de que \\(H_0\\) n√£o √© plaus√≠vel.\nDessa forma, precisamos de um ponto no qual (interroga√ß√£o na figura) onde valores menores do estimador s√£o favor√°veis a hip√≥tese nula e valores maiores s√£o mais favor√°veis a hip√≥tese alternativa. Por exemplo, se no nosso processo de amostragem obtivemos a estimativa de \\(\\bar{x}=700\\), isso √© mais favor√°vel a \\(H_0\\) ou \\(H_1\\)?\n\n\n\n\nTeste de Hip√≥tese - intui√ß√£o \n\n\n\nEncontrando os Valores T√≠picos sob \\(H_0\\)\nPara saber qual seriam os valores t√≠picos do estimador \\(\\bar{X}\\) sob \\(H_0\\) imagine que a popula√ß√£o \\(X\\) seja \\(N(600,100^2)\\), ou seja, tem esperan√ßa 600 e desvio padr√£o populacional de 100. Essa √© a afirma√ß√£o da Justi√ßa Federal, ou seja, nosso \\(H_0\\).\nPor defini√ß√£o sabemos que o estimador \\(\\bar{X}\\) ter√° uma distribui√ß√£o (essa nos fornece os valores t√≠picos sob \\(H_0\\)) dada por:\n\\[N(600,\\frac{100^2}{n})\\].\nSupondo que retiramos uma amostra de 25 processos, logo os valores t√≠picos do estimador sob \\(H_0\\) s√£o \\(N(600,\\frac{100^2}{25})\\). Vejamos abaixo a simula√ß√£o do estimador \\(\\bar{X}\\), os valores t√≠picos para esse caso, e onde se encontra o valor de 700.\n\nx&lt;-seq(500,700,0.1) \nfdnorm&lt;-dnorm(x = x, mean = 600, sd=20)   \nregiao=seq(560,640,0.01)\ncord.x &lt;- c(min(regiao),regiao,max(regiao))\ncord.y &lt;- c(0,dnorm(regiao,mean=600, sd=20),0) \ncurve(dnorm(x,600,20),xlim=c(500,700),xlab=expression(bar(x)),type=\"l\",\n      col=\"steelblue4\",lwd=2, ylab=expression(paste(\"f(\", bar(x),\n      \")\")),xaxt=\"n\",cex.axis=0.65, cex.lab=0.8 ) \naxis(1,at=c(500,540,560,580, 600, 620, 640,660, 700),labels =\n       c(500,540,560,580, 600, 620, 640,660, 700),cex.axis=0.7, cex.lab=0.8) \npolygon(cord.x,cord.y,col='lightgray')\nabline(v=600, col=\"steelblue4\", lty=2, lwd=2)\ntext(602, 0.001, expression(mu))\n\n\n\n\nValores t√≠picos da distribui√ßao da m√©dia sob H0\n\n\n\n\nNo centro temos a \\(E(\\bar{X})=\\mu=600\\). Observamos que para o tamanho amostral que retiramos e sob \\(H_0\\) os valores t√≠picos oscilam mais ou menos entre 560 e 640 - dois desvios padr√£o para cima e para baixo (lembrem-se que nesse intervalo temos mais de 95% das observa√ßoes).\nQuanto retiramos a amostra e calculamos o valor da m√©dia obtivemos \\(\\bar{x}=700\\). Observe no gr√°fico acima onde est√° o valor de 700, muita a frente e notamos claramente que a probabilidade de obtermos esse valor de m√©dia com uma amostra retirada da popula√ß√£o \\(N(600,100^2)\\), √© praticamente 0.\nPortanto, existem evid√™ncias de que essa amostra n√£o veio de uma popula√ß√£o conforme descrita pela Justi√ßa Federal e sim de processos com tempo m√©dio (esperan√ßa) maior do que 600. Portanto, dizemos que rejeitamos \\(H_0\\).\n\n\n13.5.3 Erro Tipo I (EI) e Erro Tipo II (EII)\nAqui precisamos distinguir duas ideias, a primeiro √© a exist√™ncia da verdadeira popula√ß√£o e a segunda √© o que achamos ser a verdadeira popula√ß√£o com base na an√°lise que fizemos. Aqui surge o que chamamos de erro estat√≠stico. N√£o temos como fugir dele, somente control√°-lo. Vejamos a tabela abaixo que resume as possibilidades:\n\n\nTipos de Erros em Estat√≠stica, EI e EII.\n\n\nA Decis√£o\n(\\(H_0\\)) √© verdadeiro\n(\\(H_1\\)) √© verdadeiro\n\n\n\n\nRejeitar (\\(H_0\\))\nErro Tipo I (EI)\nCorreto\n\n\nN√£o Rejeitar (\\(H_0\\))\nCorreto\nErro Tipo II (EII)\n\n\n\n\nObserve que a nossa decis√£o pode incorrer em dois erros diversos.\n\n\n\n\n\n\nErro Tipo I e Erro Tipo II\n\n\n\nErro Tipo I e Erro Tipo II\nErro Tipo I (EI): ocorre quando ‚Äúindevidamente‚Äù rejeitamemos \\(H_0\\). Nesse caso \\(H_0\\) era verdadeira e rejeitamos.\\\nErro Tipo II (EII): ocorre quando ‚Äúindevidamente‚Äù n√£o rejeitamos \\(H_0\\). Nesse caso n√£o rejeitamos \\(H_0\\) e na verdade \\(H_1\\) √© verdadeira.\n\n\nO primeiro erro √© o chamado na literatura m√©dica de falso negativo, ou seja, classifica a pessoa n√£o portadora da doen√ßa (negativa) e na verdade ela possui.\nO segundo tipo √© o falso positivo, onde classifica-se a pessoa com a doen√ßa quando na realidade ela n√£o possui.\nNosso desafio agora √© estabelecer um crit√©rio de decis√£o, o ponto a partir do qual dizemos que \\(H_0\\) n√£o parece mais prov√°vel (Figura Teste de Hip√≥tese - Intui√ß√£o). Essa chamaremos de regi√£o cr√≠tica ou de rejei√ß√£o.\n\nEI \\((\\alpha)\\)- Dizer que o tempo m√©dio √© maior que 600, quando na realizadade ela √© de 600.\nEII \\((\\beta)\\)- Dizer que tempo m√©dio √© de 600 quando na realidade ela √© maior do que 600.\n\nVamos retomar o nosso exemplo. Foi retirada uma amostra de \\(n=25\\) processos e por defini√ß√£o a distribui√ß√£o de \\(\\bar{X}\\) sob \\(H_0\\) ser√° \\(N(600,\\frac{100^2}{25})\\). A hip√≥tese a ser testada ser√°:\n\\[H_0: \\qquad \\mu=600\\] \\[H_1: \\qquad \\mu&gt;600\\]\nUma maneira de acharmos o valor a partir do qual teremos a regi√£o cr√≠tica ou de rejei√ß√£o, seria controlar o Erro Tipo I \\((\\alpha)\\). Podemos dizer que gostariamos de cometer o Erro Tipo I em apenas 5% dos casos.\n\n\n\n\n\n\nErro Estat√≠stico\n\n\n\nA chance de retirarmos um amostra e o valor da estimativa ser maior que o valor de decis√£o √© de 5% dos casos, os outros 95% sempre cair√£o na √°rea de aceita√ß√£o.\n\n\n\\[P(Z_{\\bar{X}} \\geq z_c|H_0)=0.05= \\alpha\\] Olhando a tabela temos:\n\\[P(Z_{\\bar{X}} \\geq 1.65|H_0)=0.05= \\alpha\\] \\[z_c =\\frac{\\bar{X}+600}{100/5}\\] \\[1.65 = \\frac{\\bar{X}+600}{20}\\] \\[\\bar{X}=600+1.65*20=633\\]\nPortanto,\n\\[P(\\bar{X}\\geq 633|H_0)=0.05= \\alpha\\]\n\n\n\n\n\n\nTabela Normal\n\n\n\n\n\n\n\n\n\nTabela da Norma Padr√£o \n\n\n\n\n\n\nLogo, temos agora uma regra de decis√£o que tenta controlar o Erro Tipo I. A nossa regra de decis√£o agora √© rejeitar \\(H_0\\) toda vez que o valor calculado da estimativa de \\(\\bar{X}\\) for maior do que 633 e aceitar quando for menor. Assim nossa regi√£o cr√≠tica ser√°:\n\\[RC =\\{\\bar{x} \\in \\mathbb{R} | \\bar{x} \\geq 633\\}\\]\nIsso implica que a probabilidade de rejeitarmos \\(H_0\\) (de que o tempom√©dio n√£o √© de 600), e na verdade ela ser de 600 √© de 5%.\nVejamos o gr√°fico:\n\nx&lt;-seq(500,700,0.1) \nfdnorm&lt;-dnorm(x = x, mean = 600, sd=20)  \nfdnorm1&lt;-dnorm(x = x, mean = 660, sd=20)\nregiao=seq(633,700,0.01)\ncord.x &lt;- c(min(regiao),regiao,max(regiao))\ncord.y &lt;- c(0,dnorm(regiao,mean=600, sd=20),0) \ncurve(dnorm(x,600,20),xlim=c(500,700),xlab=expression(bar(x)),type=\"l\",\n      col=\"steelblue4\",lwd=2, ylab=expression(paste(\"f(\", bar(x),\n      \")\")),xaxt=\"n\",cex.axis=0.65, cex.lab=0.8 ) \naxis(1,at=c(500,540,560,580, 600, 620, 633,660, 700),labels =\n       c(500,540,560,580, 600, 620, 633,660, 700),cex.axis=0.7, cex.lab=0.8) \npolygon(cord.x,cord.y,col='wheat4')\nabline(v=633, col=\"steelblue4\", lty=2, lwd=2)\ntext(600, 0.001, expression(mu))\ntext(660, 0.005, expression(paste(\"EI=\", alpha, \"=0.05\")))\n\n\n\n\nErro Tipo I e a Regi√£o Cr√≠tica\n\n\n\n\nEm cinza tem-se a regi√£o cr√≠tica descrita acima. Logo todos os valores calculados de \\(\\bar{X}\\) que cairem acima de 633, dizemos que rejeitamos \\(H_0\\). Entretanto, percebam que poderiam fazer parte desta distribui√ß√£o, apesar da chance ser pequena, 5%.\nComo n√£o sabemos a distribui√ß√£o sob \\(H_1\\) n√£o conseguimos calcular a probabilidade de n√£o rejeitar \\(H_0\\) e na verdade ela pertencer a distribui√ß√£o de \\(H_1\\).\n\n\n13.5.4 Procedimento Geral do Teste de Hip√≥tese\n\n13.5.4.1 Teste para um par√¢metro populacional\nTemos interesse em uma caracter√≠stica da popula√ß√£o. Como vimos por exemplo, o tempo m√©dio de um processo \\(X\\), ou mais especificamente na sua esperan√ßa \\(E(X)=\\mu\\). Contru√≠mos o teste sobre o par√¢metro, podendo ser unicaudal ou bicaudal.\nHip√≥tese Bicaudal:\nO teste bilateral ou bicaudal podemos observar valores maiores ou menores em rela√ß√£o a hip√≥tese nula. Assim n√£o temos nenhum conhecimento que nos permita dizer que podemos ter valores somente maiores ou somente menores. Temos a seguinte formula√ß√£o geral:\n\\[H_0: \\qquad \\theta=\\theta_0\\]\n\\[H_1: \\qquad \\theta \\neq \\theta_0\\]\nN√≠vel de signific√¢ncia\nRetomando o nosso exemplo, ao rejeitarmos \\(H_0\\) podemos cometer o erro de dizer que o tempo m√©dio √© maior que 600 dias, mas na realidade o tempo era efetivamente 600 dias.\nTentamos controlar esse tipo de erro que √© o nosso Erro Tipo I (EI). Temos que definir qual seria o tamanho desse erro, 10%, 5%, 1% etc. Esse percentual √© o que chamamos de n√≠vel de signific√¢ncia. Quem define esse tamanho √© o pesquisador e em geral, em ci√™ncia sociais, utilizamos os n√≠veis acima.\n\n\n\n\n\n\nN√≠vel de Signfic√£ncia\n\n\n\nN√≠vel de Signific√¢ncia:√â a probabilidade m√°xima aceit√°vel de cometer o erro tipo I e chamamos de \\(\\alpha\\), sendo um valor entre \\(0&lt;\\alpha&lt;1\\)\n\n\nDessa forma, faremos o teste de hip√≥tese para o par√¢metro \\(\\theta\\) ao n√≠vel de signific√¢ncia de \\(\\alpha\\). No nosso caso dizemos que iremos testar se o tempo m√©dio dos processos √© de 600, \\(H_0: \\mu=600\\), ao n√≠vel de 5% de signific√¢ncia.\nValor Cr√≠tico e Regi√£o Cr√≠tica\nCom base no n√≠vel de signific√¢ncia conseguiremos estabelecer qual √© o valor cr√≠tico e qual seria a regi√£o de rejei√ß√£o. Para o nosso caso encontramos o valor cr√≠tico de 633 e a nossa regi√£o foi estabelecida como \\(RC =\\{\\bar{x} \\in R | \\bar{x} \\geq 633\\}\\). Conforme calculamos anteiormente.\nAssim, de forma geral tem-se:\n\\[RC =\\{T \\in C| H_0\\}\\] \\[P(T \\in C|H_0)\\leq\\alpha\\]\n\n\n\n\n\n\nTeste Unilateral e Bilateral\n\n\n\nA regi√£o critica depende do teste estat√≠stico escolhido e se a hip√≥tese √© unilateral, ou seja, apenas de um lado da distribui√ß√£o ou bilateral, os dois lados da distribui√ß√£o. No caso unilateral utilizamos o n√≠vel de siginifc√¢ncia, \\(\\alpha\\), todo de um lado apenas. Se for o teste bilateral dividimos o n√≠vel de signific√¢ncia, ou seja, utilizamos\\(\\alpha /2\\), metade para cada lado.\n\n\nO Teste de Hip√≥tese\nFazemos nosso processo de amostragem e obtemos o valor do teste estat√≠stico. Se o valor do teste ficar fora da regi√£o cr√≠tica dizemos que n√£o rejeitamos \\(H_0\\). Para o nosso caso, que n√£o existe evid√™ncias de que o tempo m√©dio dos processos √© maior do 600 dias.\nCaso o teste estat√≠tico produza uma estimativa na regi√£o cr√≠tica, rejeitamos \\(H_0\\), h√° evid√™ncias de que o tempo m√©dio √© maior do que aquela postulada pela Justi√ßa Federal.\n\n\n\n13.5.5 Os Cinco passos para a contru√ß√£o do teste de hip√≥tese\n\nEstabele√ßa as hip√≥tese nula \\(H_0\\) e a hip√≥tese alternativa \\(H_1\\)\nDefina qual estimador do par√¢metro populacional \\(\\theta\\) que ser√° usado para testar \\(H_0\\): m√©dia, desvio padr√£o amostral, propor√ß√£o amostral etc\nDefina o n√≠vel de signific√¢ncia - \\(\\alpha\\) e estabele√ßa qual o valor e a regi√£o cr√≠tica.\nCalcule a estimativa do teste estat√≠stico.\nSe n√£o pertencer a Regi√£o Cr√≠tica n√£o rejeitamos \\(H_0\\), caso contr√°rio rejeitamos a hip√≥tese nula \\(H_0\\).\n\n\n\n13.5.6 Introdu√ß√£o ao Teste de Hip√≥tese de Duas Popula√ß√µes (de M√©dias)\nO teste de hip√≥tese √© uma t√©cnica estat√≠stica fundamental usada para tomar decis√µes baseadas em evid√™ncias amostrais. O teste de hip√≥tese de duas popula√ß√µes √© aplicado quando queremos comparar as m√©dias de duas popula√ß√µes distintas e determinar se existe uma diferen√ßa estatisticamente significativa entre elas. Vamos explorar os principais conceitos deste teste:\nFormula√ß√£o das Hip√≥teses\nNo teste de hip√≥tese de duas popula√ß√µes, formulamos duas hip√≥teses:\n\nHip√≥tese Nula (\\(H_0\\)): Esta √© a hip√≥tese inicial que assume que n√£o h√° diferen√ßa entre as m√©dias das duas popula√ß√µes. Geralmente, √© representada como\n\n\\[H_0: \\mu_1 = \\mu_2\\],\nonde \\(\\mu_1\\) e \\(\\mu_2\\) s√£o as m√©dias das duas popula√ß√µes.\n\nHip√≥tese Alternativa (\\(H_a\\) ou \\(H_1\\)): Esta √© a hip√≥tese que queremos testar, indicando que h√° uma diferen√ßa significativa entre as m√©dias das duas popula√ß√µes. Pode ser definida como: \\[H_a: \\mu_1 &gt; \\mu_2\\] ou \\[H_a: \\mu_1 &lt; \\mu_2\\] ou\n\n\\[H_a: \\mu_1 \\neq \\mu_2\\].\nEstat√≠stica do Teste\nO teste de hip√≥tese de duas popula√ß√µes geralmente envolve o c√°lculo de uma estat√≠stica de teste espec√≠fica para comparar as m√©dias das amostras das duas popula√ß√µes. Uma das estat√≠sticas comuns √© o teste t de Student, especialmente quando as vari√¢ncias populacionais s√£o desconhecidas e podem ser diferentes entre as popula√ß√µes.\nDecis√£o do Teste\nAp√≥s calcular a estat√≠stica de teste, comparamos o valor observado da estat√≠stica com um valor cr√≠tico ou calculamos um valor p associado. O valor p √© a probabilidade de obter uma estat√≠stica de teste t√£o extrema quanto a observada, assumindo que a hip√≥tese nula seja verdadeira. Com base no valor p (geralmente comparado com um n√≠vel de signific√¢ncia pr√©-definido, como 0,05), tomamos uma decis√£o de rejeitar ou n√£o rejeitar a hip√≥tese nula.\nConclus√£o do Teste\nA conclus√£o do teste de hip√≥tese de duas popula√ß√µes nos permite determinar se h√° evid√™ncias estat√≠sticas suficientes para rejeitar a hip√≥tese nula em favor da hip√≥tese alternativa. Essa decis√£o tem implica√ß√µes importantes em √°reas como pesquisa cient√≠fica, an√°lise de dados e tomada de decis√µes em neg√≥cios e sa√∫de.\n\n\n13.5.7 Aplica√ß√£o Pr√°tica sobre Teste de Hip√≥tese\nEssa se√ß√£o tem o objetivo de aplicar o Teste de Hip√≥tese utilizando o R. Vamos utilizar nosso banco de dados sobre feminic√≠dio. E vamos criar uma vari√°vel que identifica se pertence as regi√µes norte, nordeste e centro oeste ou as regi√µes sul e sudeste.\n\n#carregando o pacote para ler arquivos em excel\nload(\"C:/Users/Alexandre_Nicolella/Aulas/FEA-RP/Jurimetria/jurimetria/final_fem_22.Rdata\")\n\n# Criando a Bin√°ria que indica a regi√£o N, NE e CO\nlibrary(dplyr)\n\nfinal_fem_22 &lt;- final_fem_22 %&gt;%\n  mutate(N_NE_CO = case_when(\n    regiao %in% c(\"N\", \"NE\", \"CO\") ~ 1,  # Regi√µes N, NE e CO recebem 1\n    TRUE ~ 0                             # Demais regi√µes recebem 0\n  ))\n\nVamos olhar as m√©dias entra as regi√µes norte, nordeste e centro oeste e as regi√µes sul e sudeste.\n\nlibrary(kableExtra)\n\nmean_1&lt;- aggregate(final_fem_22[4:15], list(final_fem_22$N_NE_CO), mean,  na.rm=T)\n\nt(mean_1) %&gt;% \n  kbl(digits = 2) %&gt;%\n     kable_styling()\n\n\n\n\nGroup.1\n0.00\n1.00\n\n\nhomic_abs\n249.71\n108.80\n\n\nhomic_tx\n3.60\n5.18\n\n\nfeminic_abs\n107.57\n34.20\n\n\nfeminic_tx\n1.47\n1.72\n\n\npart_feminic\n42.84\n35.98\n\n\nrendapc\n1903.14\n1287.55\n\n\nmais_50\n0.29\n0.25\n\n\nt_homic_abs\n453.57\n224.25\n\n\nt_homic_tx\n8.91\n15.50\n\n\nt_feminic_abs\n177.67\n78.79\n\n\nt_feminic_tx\n3.25\n4.42\n\n\npart_t_feminic\n26.24\n27.09\n\n\n\n\n\nPode-se observar que existem em todas as vari√°veis existem diferen√ßas entre as duas regi√µes. A quest√£o √©: Essas diferen√ßas s√£o estatisticamente significativas?\nAproveitando um gr√°fico anterior que fizemos, vamos olhar a distribui√ß√£o das taxas de feminic√≠dio entre as regi√µes.\n\nlibrary(ggplot2)\nggplot(final_fem_22, aes(x = factor(N_NE_CO, labels = c(\"Sul e Sudeste\", \"Norte, Nord. e C.Oeste\")),  # Transformando em fatores\n                         y = feminic_tx, fill = factor(N_NE_CO))) +                                   # Taxa de Feminic√≠dio por Fator\n  geom_violin(trim = FALSE, color = \"white\") +                                                        # Cria o gr√°fico de violino\n  scale_fill_manual(values = c(\"lightblue\", \"steelblue\")) +                                           # Cor das violas\n  stat_summary(fun=\"median\", geom = \"point\", shape=19, size=3, color=\"darkorange\"  ) +                # Vamos colocar o ponto mediana\n  labs(\n    title = \"Distribui√ß√£o da taxa de feminic√≠dio por regi√£o do Brasil\",\n    x = \"Regi√£o\",\n    y = \"Taxa de Feminic√≠dio (por 100 mil)\",\n    fill = \"Regi√£o\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"),              # Centraliza o t√≠tulo\n    axis.text.x = element_text(size = 12),                                         # Ajusta o tamanho dos r√≥tulos no eixo X\n    axis.text.y = element_text(size = 10),                                         # Ajusta o tamanho dos r√≥tulos no eixo Y\n    legend.position = \"none\"  )\n\n\n\n\n\n\n\n\nObserva-se diferen√ßa entre as duas regi√µes, mas ser√° que as m√©dias s√£o estatisticamente diferentes? Para isso temos que utilizar o Teste de Hip√≥tese.\nRelembrando os Passos\nO teste de hip√≥tese segue um processo estruturado de cinco etapas:\n\nDefinir as Hip√≥teses ‚Äì Comece formulando a hip√≥tese nula (\\(H_0\\)) e a hip√≥tese alternativa (\\(H_1\\)). Em geral, a hip√≥tese nula representa a aus√™ncia de efeito ou diferen√ßa, enquanto a hip√≥tese alternativa sugere a exist√™ncia de um efeito ou diferen√ßa.\nDefina o Estimador - Defina qual estimador vai utilizar para inferir sobre o par√¢metro populacional \\(\\theta\\), o qual ser√° usado para testar \\(H_0\\): m√©dia, desvio padr√£o amostral, propor√ß√£o amostral etc\nEstabelecer os Crit√©rios de Decis√£o ‚Äì Defina o n√≠vel de signific√¢ncia (\\(\\alpha\\)), que representa a probabilidade de rejeitar a hip√≥tese nula quando ela √© verdadeira (Erro Tipo I). Valores comuns de (\\(\\alpha\\)) s√£o 0,05 (5%) e 0,01 (1%).\nAnalisar os Dados da Amostra ‚Äì Calcule o teste estat√≠stico com base nos dados amostrais. Esse teste estat√≠stico vai ser utilizado para a compara√ß√£o com os valores t√≠picos que poderiam acontecer se a amostra tivesse vindo de \\(H_0\\).\nTomar uma Decis√£o e Interpretar os Resultados ‚Äì Compare o valor calculado no teste com o valor cr√≠tico ou utilize o p-valor. Se o p-valor for menor que o n√≠vel de signific√¢ncia \\(\\alpha\\), rejeita-se a hip√≥tese nula em favor da hip√≥tese alternativa. Caso contr√°rio, n√£o h√° evid√™ncias suficientes para rejeitar a hip√≥tese nula, indicando que o efeito n√£o √© estatisticamente significativo.\n\nTeste de Hip√≥tese no R\nA fun√ß√£o t.test() no R possui v√°rios argumentos importantes para a realiza√ß√£o do teste t.\n\nt.test(x, y = NULL,\n       alternative = c(\"two.sided\", \"less\", \"greater\"),\n       mu = 0, paired = FALSE, var.equal = FALSE,\n       conf.level = 0.95, ‚Ä¶)\n\nAbaixo est√£o os principais:\n\nx, y: As duas amostras de dados a serem comparadas.\n\nalternative: Define a hip√≥tese alternativa do teste (exemplo: \"two.sided\", \"greater\", \"less\").\n\nmu: Especifica um valor de refer√™ncia para a m√©dia populacional no teste.\n\npaired: Indica se o teste t deve ser pareado (TRUE) ou n√£o pareado (FALSE).\n\nvar.equal: Especifica se as vari√¢ncias das amostras devem ser assumidas como iguais (TRUE) ou n√£o (FALSE).\n\nconf.level: Define o n√≠vel de confian√ßa do intervalo (padr√£o de 95%).\n\nEsses par√¢metros permitem personalizar o teste conforme a necessidade da an√°lise estat√≠stica.\nTeste sobre o Par√¢metro\nUma reportagem em um portal de not√≠cias indicou que a m√©dia da taxa de feminic√≠dio nos estados brasileiros √© igual a 2 assassinatos por 100 mil mulheres. Com base nos dados que coletamos gostar√≠amos de saber se eles carregam evid√™ncias favor√°veis ou contra ao artigo.\n\nDefinir as Hip√≥teses\n\n\\[H_0: \\mu = 2\\] \\[H_1:\\mu \\neq 2 \\]\n\nDefina o Estimador\n\nVamos utilizar a M√©dia Amostral, \\(\\bar{X}\\), para testar a hip√≥tese nula \\(H_0\\).\n\nEstabelecer os Crit√©rios de Decis√£o\n\nVamos adotar \\(\\alpha= 0,05\\) (5%).\n\nAnalisar os Dados da Amostra\n\n\nt.test(x=final_fem_22$feminic_tx, y = NULL,\n       alternative = c(\"two.sided\"),\n       mu = 2, \n       paired = FALSE, \n       var.equal = TRUE,\n       conf.level = 0.95)\n\n\n    One Sample t-test\n\ndata:  final_fem_22$feminic_tx\nt = -2.9276, df = 26, p-value = 0.007011\nalternative hypothesis: true mean is not equal to 2\n95 percent confidence interval:\n 1.407411 1.896292\nsample estimates:\nmean of x \n 1.651852 \n\n\n\nTomar uma Decis√£o e Interpretar os Resultados\n\nEntendendo o resultado do teste:\nOne Sample t-test: Teste de uma amostra -&gt; taxa de feminic√≠dio\ndata:  final_fem_22$feminic_tx: Indica a vari√°vel que utilizou\nt = -2.9276, df = 26, p-value = 0.007011: O valor do teste t, o grau de liberdade e o p-valor\nalternative hypothesis: true mean is not equal to 2: A hip√≥tese alternativa √© que a m√©dia n√£o √© igual a 2\n95 percent confidence interval: 1.407411 1.896292 : O intervalo de confian√ßa de 95% para a m√©dia, indicando que a verdadeira m√©dia populacional est√° nesse intervalo.\nsample estimates: mean of x  = 1.651852: A m√©dia amostral √© de 1.65, a qual √© a estimativa da verdadeira m√©dia populacional.\nComo o p-valor foi menor que o n√≠vel de signific√¢ncia \\(\\alpha\\), rejeita-se a hip√≥tese nula em favor da hip√≥tese alternativa. H√° evid√™ncias de que a m√©dia nacional √© menor do que 2.\nTeste Unicaudal\nPodemos testar tamb√©m a seguinte hip√≥tese com n√≠vel de signific√¢ncia de 1%:\n\\[H_0: \\mu = 2\\] \\[H_1:\\mu &lt; 2 \\] No R:\n\nt.test(x=final_fem_22$feminic_tx, y = NULL,\n       alternative = c(\"less\"),\n       mu = 2, \n       paired = FALSE, \n       var.equal = TRUE,\n       conf.level = 0.99)\n\n\n    One Sample t-test\n\ndata:  final_fem_22$feminic_tx\nt = -2.9276, df = 26, p-value = 0.003505\nalternative hypothesis: true mean is less than 2\n99 percent confidence interval:\n     -Inf 1.946607\nsample estimates:\nmean of x \n 1.651852 \n\n\nNovamente como o p-valor foi menor que o n√≠vel de signific√¢ncia \\(\\alpha\\), rejeita-se a hip√≥tese nula em favor da hip√≥tese alternativa. H√° evid√™ncias de que a m√©dia nacional √© menor do que 2.\nTeste para Diferen√ßa de M√©dias\n\nTaxa de Feminic√≠dio\n\nVamos testar a hip√≥tese de que as taxas de feminic√≠dio s√£o iguais entre as regi√µes norte, nordeste e centro oeste e as regi√µes sul e sudeste. Vamos permitir que as vari√¢ncias sejam diferentes entre as duas regi√µes\n\\[H_0: \\mu_{N-NE-CO} = \\mu_{S-SD}\\] \\[H_1: \\mu_{N-NE-CO} \\neq \\mu_{S-SD}\\]\n\nt.test(feminic_tx~N_NE_CO, data=final_fem_22,\n       alternative = c(\"two.sided\"),\n       var.equal = FALSE,\n       conf.level = 0.95)\n\n\n    Welch Two Sample t-test\n\ndata:  feminic_tx by N_NE_CO\nt = -1.2049, df = 20.949, p-value = 0.2417\nalternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0\n95 percent confidence interval:\n -0.6640345  0.1768916\nsample estimates:\nmean in group 0 mean in group 1 \n       1.471429        1.715000 \n\n\nComo o p-valor foi maior que o n√≠vel de signific√¢ncia \\(\\alpha\\), n√£o rejeita-se a hip√≥tese nula. N√£o h√° evid√™ncias de que as regi√µes possuem taxas diferentes de feminic√≠dio.\n\nRenda pc\n\nVejamos agora a renda per capita a 1% de signific√¢ncia :\n\nt.test(rendapc~N_NE_CO, data=final_fem_22,\n       alternative = c(\"two.sided\"),\n       var.equal = FALSE,\n       conf.level = 0.99) \n\n\n    Welch Two Sample t-test\n\ndata:  rendapc by N_NE_CO\nt = 4.6401, df = 22.301, p-value = 0.0001225\nalternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0\n99 percent confidence interval:\n 242.1018 989.0840\nsample estimates:\nmean in group 0 mean in group 1 \n       1903.143        1287.550 \n\n\nObserva-se que rejeita-se a hip√≥tese nula, e h√° evid√™ncias de que a m√©dia da renda per capita entre as duas regi√µes s√£o diferentes.\nAmostras Pareada\nVamos testar a diferen√ßa de m√©dia entre amostra pareadas. A amostra pareada √© quando temos o mesmo indiv√≠duo observado duas vezes. Vamos testar se existe diferen√ßa entre a participa√ß√£o do feminic√≠dio sobre os homic√≠dios e a participa√ß√£o da tentativa de feminic√≠dio sobre as tentativas de feminic√≠dio feminino.\n\\[H_0: \\mu_{part-feminic} = \\mu_{part-t-feminic}\\] \\[H_1: \\mu_{part-feminic} \\neq \\mu_{part-t-feminic}\\]\nUtilizando a m√©dia amostral para testar a hip√≥tese nula \\(H_0\\) e considerando um n√≠vel de signific√¢ncia de 95%. No R temos:\n\nt.test(x=final_fem_22$part_feminic, y=final_fem_22$part_t_feminic,\n       alternative = c(\"two.sided\"),\n       paired = TRUE, \n       var.equal = FALSE,\n       conf.level = 0.95)\n\n\n    Paired t-test\n\ndata:  final_fem_22$part_feminic and final_fem_22$part_t_feminic\nt = 3.457, df = 24, p-value = 0.002049\nalternative hypothesis: true mean difference is not equal to 0\n95 percent confidence interval:\n  4.105405 16.269795\nsample estimates:\nmean difference \n        10.1876 \n\n\nComo o p-valor foi menor que o n√≠vel de signific√¢ncia \\(\\alpha\\), rejeita-se a hip√≥tese nula em favor da hip√≥tese alternativa. H√° evid√™ncias de que a m√©dia da participa√ß√£o do feminic√≠dio √© maior do que a m√©dia da participa√ß√£o da tentativa de feminic√≠dio. A estimativa dessa diferen√ßa √© de 10 pontos percentuais a mais para participa√ß√£o do feminic√≠dio.",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>13</span>¬† <span class='chapter-title'>Uma Introdu√ß√£o √† Estat√≠stica</span>"
    ]
  }
]